<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	xmlns:georss="http://www.georss.org/georss" xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#" xmlns:media="http://search.yahoo.com/mrss/"
	>

<channel>
	<title>ddos &#8211; Tutti per Linux</title>
	<atom:link href="https://tuttiperlinux.blog/tag/ddos/feed/" rel="self" type="application/rss+xml" />
	<link>https://tuttiperlinux.blog</link>
	<description>Tutto cio&#039; che avresti sempre voluto capire su Linux ed il mondo Digitale</description>
	<lastBuildDate>Sun, 08 May 2016 11:23:46 +0000</lastBuildDate>
	<language>it-IT</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>http://wordpress.com/</generator>
<cloud domain='tuttiperlinux.blog' port='80' path='/?rsscloud=notify' registerProcedure='' protocol='http-post' />
<image>
		<url>https://secure.gravatar.com/blavatar/fa5c4cf69896031d9ec71ff8d5aafd25?s=96&#038;d=https%3A%2F%2Fs0.wp.com%2Fi%2Fbuttonw-com.png</url>
		<title>ddos &#8211; Tutti per Linux</title>
		<link>https://tuttiperlinux.blog</link>
	</image>
	<atom:link rel="search" type="application/opensearchdescription+xml" href="https://tuttiperlinux.blog/osd.xml" title="Tutti per Linux" />
	<atom:link rel='hub' href='https://tuttiperlinux.blog/?pushpress=hub'/>
	<item>
		<title>PENETRATION TEST</title>
		<link>https://tuttiperlinux.blog/2016/05/08/penetration-test/</link>
					<comments>https://tuttiperlinux.blog/2016/05/08/penetration-test/#respond</comments>
		
		<dc:creator><![CDATA[Tutti per Linux]]></dc:creator>
		<pubDate>Sun, 08 May 2016 11:23:46 +0000</pubDate>
				<category><![CDATA[Networking]]></category>
		<category><![CDATA[Sicurezza]]></category>
		<category><![CDATA[SysAdmin]]></category>
		<category><![CDATA[backtrack]]></category>
		<category><![CDATA[bug]]></category>
		<category><![CDATA[ddos]]></category>
		<category><![CDATA[dos]]></category>
		<category><![CDATA[firewall]]></category>
		<category><![CDATA[information diving]]></category>
		<category><![CDATA[kali linux]]></category>
		<category><![CDATA[linux blog italiano]]></category>
		<category><![CDATA[man in the middle]]></category>
		<category><![CDATA[metasploit]]></category>
		<category><![CDATA[nessus]]></category>
		<category><![CDATA[pen-test]]></category>
		<category><![CDATA[penetration test]]></category>
		<category><![CDATA[security]]></category>
		<category><![CDATA[social engineering]]></category>
		<category><![CDATA[trashing]]></category>
		<category><![CDATA[tuning]]></category>
		<category><![CDATA[vulnerabilita]]></category>
		<guid isPermaLink="false">http://tuttiperlinux.com/?p=1270</guid>

					<description><![CDATA[&#160; Oggi giorno tutto e&#8217; e sara&#8217; sempre piu&#8217; connesso o interconnesso in rete, dalle nostre vite sociali, ai dati aziendali fino all&#8217;ultima frontiera rappresentata dall&#8217;Internet delle Cose IoT, che è un neologismo riferito all&#8217;estensione di Internet al mondo degli oggetti e dei luoghi concreti. Tutto questo scambio continuo di dati (foto, login, codici&#8230;) richiede &#8230; <a href="https://tuttiperlinux.blog/2016/05/08/penetration-test/">Continua a leggere <span class="meta-nav">&#8594;</span></a>]]></description>
										<content:encoded><![CDATA[<div data-shortcode="caption" id="attachment_1271" style="width: 266px" class="wp-caption alignnone"><img aria-describedby="caption-attachment-1271" data-attachment-id="1271" data-permalink="https://tuttiperlinux.blog/2016/05/08/penetration-test/pen-test/#main" data-orig-file="https://tuttiperlinux.files.wordpress.com/2016/05/pen-test.jpg" data-orig-size="256,197" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Penetration Test" data-image-description="&lt;p&gt;Penetration Test&lt;/p&gt;
" data-image-caption="&lt;p&gt;Penetration Test&lt;/p&gt;
" data-medium-file="https://tuttiperlinux.files.wordpress.com/2016/05/pen-test.jpg?w=256" data-large-file="https://tuttiperlinux.files.wordpress.com/2016/05/pen-test.jpg?w=256" class="size-full wp-image-1271" src="https://tuttiperlinux.files.wordpress.com/2016/05/pen-test.jpg?w=600" alt="Penetration Test" srcset="https://tuttiperlinux.files.wordpress.com/2016/05/pen-test.jpg 256w, https://tuttiperlinux.files.wordpress.com/2016/05/pen-test.jpg?w=150 150w" sizes="(max-width: 256px) 100vw, 256px"   /><p id="caption-attachment-1271" class="wp-caption-text">Penetration Test</p></div>
<p>&nbsp;</p>
<p>Oggi giorno tutto e&#8217; e sara&#8217; sempre piu&#8217; connesso o interconnesso in rete, dalle nostre vite sociali, ai dati aziendali fino all&#8217;ultima frontiera rappresentata dall&#8217;Internet delle Cose <strong>IoT</strong>, che è un neologismo riferito all&#8217;estensione di Internet al mondo degli oggetti e dei luoghi concreti.</p>
<p>Tutto questo scambio continuo di dati (foto, login, codici&#8230;) richiede che le aziende incaricate di mantenere al sicuro i nostri dati piu&#8217; importanti debbano essere sempre preparati dal pericolo sempre maggiore di un&#8217;intrusione, in effetti il comportamento non sarebbe diverso da una squadra di vigili del fuoco che si allenano costantemente simulando ogni tipologia di situazione cosi da sapere sempre cosa fare, come risolvere e se possibile come prevenire un disastro.</p>
<p>Una delle metodologie a cui dovrebbero affidarsi i team di sicurezza interni, o tramite specifiche consulenze, sono i cosidetti PENETRATION TEST.<br />
Che cosa s&#8217;intende quando si usa questo termine? Il <strong>penetration test</strong> è la metodologia di valutazione della sicurezza di un sistema o di una rete. L&#8217;analisi comprende più fasi ed ha come obiettivo evidenziare le debolezze della piattaforma fornendo il maggior numero di informazioni sulle vulnerabilità che ne hanno permesso l&#8217;accesso non autorizzato. L&#8217;analisi è condotta dal punto di vista di un potenziale attaccante e consiste nello sfruttamento delle vulnerabilità rilevate al fine di ottenere più informazioni possibili per accedere in modo fraudolento al sistema. Un pen-test dunque consiste nel testare la sicurezza di un sistema cercando di violarlo sottoponendolo ad una grande varietà di attacchi informatici e non. L&#8217;obiettivo è quello di individuare eventuali vulnerabilità sfruttabili da terzi per ottenere accessi non autorizzati ai servizi e ai sistemi analizzati.</p>
<p>Oltre ai problemi di sicurezza, devono essere rilevati, quali possibili punti deboli, i problemi relativi alla configurazione, il cosidetto &#8220;<strong>tuning</strong>&#8220;, che incidono sulla robustezza e le performance del sistema, e gli errori di progettazione della rete. Non a caso, a volte una cattiva configurazione è più pericolosa di un bug.</p>
<p>Questa e&#8217; una lista sintetica che descrive cio che un pen-tet cerca d&#8217;individuare:</p>
<ul>
<li>bug, vulnerabilità e security hole nel software presente;</li>
<li>punti deboli nella progettazione della rete;</li>
<li>punti deboli di firewall e router;</li>
<li>punti deboli negli script dei web-server;</li>
<li>errori nella configurazione dei principali servizi in esecuzione;</li>
<li>problemi relativi l&#8217;accesso fisico alle macchine.</li>
</ul>
<p>Una volta portato a termine il test, tutti i problemi di sicurezza rilevati vengono presentati al cliente o alla propria direzione informatica assieme ad una valutazione del loro impatto nel sistema e nello scenario del business aziendale, fornendo inoltre una soluzione tecnica o proposta di migrazione e mitigazione del sistema.</p>
<p>Il penetration test ci fornisce quindi una stima chiara sulle capacità di difesa e del livello di penetrazione raggiunto nei confronti di problematiche quali:</p>
<ul>
<li>vulnerabilità interne al sistema;</li>
<li>vulnerabilità esterna al sistema;</li>
<li>difetti sicurezza fisica</li>
</ul>
<p><strong>Quali sono le modalita&#8217; in cui i Penetration Tester svolgono il loro ruolo ??</strong><br />
I processi di penetration test possono essere effettuati in diverse modalità. La differenza consiste sulla quantità e qualità delle informazioni disponibili a coloro che devono effettuare l&#8217;analisi riguardo ai sistemi analizzati. I processi di analisi che vengono condotti in un penetration test hanno diversi tempi di azione in cui vengono alternate fasi manuali e fasi automatiche. Vengono acquisite inizialmente le informazioni principali sull&#8217;architettura della piattaforma e sui servizi offerti. Dall&#8217;analisi di questi dati deriva la scelta di come condurre il passo successivo, consistente in una enumerazione dei principali errori e problemi. Subentrano cosi nell&#8217;equazione i Penetration Tools che, uniti all&#8217;esperienza manuale dell&#8217;analista permettono quindi di evidenziare tutte le possibili vulnerabilità, incluse quelle più recenti e, a volte, alcune ancora non di pubblico dominio. I problemi riscontrati sono quindi manualmente verificati.</p>
<p>L&#8217;<strong>attività</strong> si considera <strong>conclusa</strong> una volta portata a termine la reportistica composta dal report di analisi sommaria dedicato al management o executive summary, contenente l&#8217;analisi dell&#8217;impatto di rischio di quanto riscontrato e tempistiche per l&#8217;azione di rientro o mitigazione delle problematiche riscontrate, e dal report tecnico, contenente l&#8217;analisi dettagliata dei problemi e la soluzione tecnica.</p>
<p>Va aggiunto per maggiore chiarezza che il penetration test va effettuato su sistemi esposti su Internet e comunque sulle piattaforme sensibili collegate a grosse reti, testando le vulnerabilita&#8217; sia con attacchi esterni alla rete che con attacchi dall&#8217;interno della stessa e, possibilmente gia prima prima che esse entrino nella fase di completo esercizio.<br />
Possiamo distinguere vari livelli tecnici dei test, piu&#8217; a grandi linee si possono delineare tre grandi categorie:</p>
<ul>
<li><strong>livello basso</strong>: questo è il test che in genere fanno i tool di auditing automatici, a la <a href="https://www.tenable.com/products/nessus-vulnerability-scanner">Nessus</a> per intenderci. Si controlla solo se ci sono servizi in esecuzione con vulnerabilità note, in genere vengono rilevate solo grosse falle e misconfigurazioni macroscopiche.</li>
<li><strong>livello medio</strong>: oltre a controllare i servizi in esecuzione, viene testata la rete, i firewall, i router, etc&#8230;, e si fa spesso ricorso anche a tecniche di social engineering.</li>
<li><strong>livello alto</strong>: qui siamo a livelli paranoici, si può arrivare a controllare i sorgenti (se disponibili) dei programmi alla ricerca di nuove vulnerabilità (quindi meglio optare per software open source e li dove e&#8217; possibile per far sviluppare internamente cio di cui si ha bisogno), o ad esercitare la tecnica denominata del trashing detto anche information diving, che è la pratica di risalire ad informazioni riservate attraverso il setacciamento dei rifiuti della vittima, come resoconti, bollette, corrispondenza. Una delle tecniche preferite dal famoso <a href="https://it.wikipedia.org/wiki/Kevin_Mitnick">Kevin Mitnick</a>.</li>
</ul>
<p>Mettendo insieme tutte queste metodologie ed informazioni possiamo darvi un piccolo scenario di cio che viene eseguito, a grandi linee, durante un&#8217;attacco:</p>
<ul>
<li><strong>Ricognizione di base</strong>: informazioni dal sito, informazioni sul dominio e sull&#8217;amministratore. A volte basta visitare il sito per raccogliere importanti notizie sul software presente sul server, spesso infatti in fondo all&#8217;home page i webmaster inseriscono notizie sul sistema operativo, webserver, etc&#8230;., come ad esempio trovare indicazioni come queste &#8220;Powered by Apache, Linux Inside&#8230;&#8221; , mettono a rischio i sistemi.</li>
<li><strong>Ricostruzione della struttura interna della rete</strong></li>
<li><strong>Raccolta Info</strong>:Una volta identificata la struttura della rete e il numero di macchine bisogna raccogliere il maggior numero di informazioni su ognuna di esse. Quindi occorre ricercare i servizi in esecuzione, identificare i sistemi operativi, la versione dei servizi, il tipo di processore, i nomi utente (standard e non), le risorse condivise, etc.</li>
<li><strong>Tracciamento vulnerabilita</strong>&#8216;: dopo aver determinato i tipi di servizi attivi sull&#8217;host bersaglio si deve tracciare una mappa delle vulnerabilità, e occorre ricercare (o scrivere) gli exploit applicabili contro i servizi bersaglio.</li>
<li>Analisi della topologia della rete.</li>
<li>Applicazione degli exploit.</li>
<li>Verifica della possibilità di sniffing e tentativi di DoS &amp; DDoS.</li>
<li>Test su router e firewall.</li>
<li>Pulizia delle tracce dell&#8217;attacco.</li>
<li>Stesura del report.</li>
</ul>
<p>Al termine degli attacchi e della valutazione dei log raccolti un sistema potra&#8217; dirsi vulnerabile se è possibile:</p>
<ul>
<li>accedere a risorse interne;</li>
<li>leggere e modificare file riservati;</li>
<li>controllare il traffico in entrata e/o uscita;</li>
<li>eseguire programmi senza averne i permessi;</li>
<li>accedere alla macchina con i permessi di amministratore (root) da parte di utenti non privilegiati;</li>
<li>controllare la configurazione della rete e dei servizi.</li>
</ul>
<p><strong>Punti critici:</strong><br />
cerchiamo ora di evidenziare i lati negativi del preparare un pen-test che purtroppo e&#8217; un po come fare i lavori di casa mentre voi ci abitate dentro&#8230;&#8230;<br />
I punti critici da prendere in considerazioni sono: trattamento dei dati raccolti, salvaguardia dei sistemi e dei dati, riservatezza riguardo le vulnerabilità emerse durante il pen-test. Durante il penetration test potrebbero verificarsi dei disagi dovuti al lavoro del tester, si potrebbero avere perdite o danni ai dati o ancora una momentanea perdita di accessibilità. Ad esempio una macchina dedicata all&#8217;e-commerce potrebbe rimanere inaccessibile a causa di una simulazione di un DoS, con conseguenze economiche dirette. O ancora, una azienda che fornisce servizi a terzi, potrebbe vedere i propri servizi interrotti con evidente disagio per i clienti.<br />
Prima di cominciare il test bisogna concordare quale livello di rischio il committente è disposto a correre, invitandolo anche a fare un backup dei dati prima di effettuare il pen-test. Bisogna prevedere tali evenienze in fase di stipula del contratto, declinando per quanto possibile le responsabilità e garantendo però, allo stesso tempo, adeguate misure per il recupero del sistema.</p>
<p>Per ultimare questa carellata sul valore di un Pen-test aggiungo che il suo valore è strettamente legato alle capacità del tester, dunque affidiamoci soltanto a persone preparate che possono dimostrare esperienza pratica svolta su clienti tracciabili; inoltre esso perde di validità non appena si apportano modifiche (anche minime) alla configurazione di una macchina interessata al test, quindi è consigliabile eseguire un pen-test poco prima di mettere in produzione la rete. Inoltre anche lasciando inalterate le macchine testate, il pen-test dovrebbe essere ripetuto periodicamente, poichè oggi giorno vengono trovate quotidianamente nuove vulnerabilità e nuovi exploit.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://tuttiperlinux.blog/2016/05/08/penetration-test/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		
		<media:content url="https://2.gravatar.com/avatar/855ab7cb725a5b56c356471b79d1cef6?s=96&#38;d=&#38;r=G" medium="image">
			<media:title type="html">lordisil72lordisil72</media:title>
		</media:content>

		<media:content url="https://tuttiperlinux.files.wordpress.com/2016/05/pen-test.jpg" medium="image">
			<media:title type="html">Penetration Test</media:title>
		</media:content>
	</item>
		<item>
		<title>Proteggere i Server da attacchi SlowHTTP/Slowloris</title>
		<link>https://tuttiperlinux.blog/2015/04/24/proteggere-i-server-da-attacchi-slowhttpslowloris/</link>
					<comments>https://tuttiperlinux.blog/2015/04/24/proteggere-i-server-da-attacchi-slowhttpslowloris/#respond</comments>
		
		<dc:creator><![CDATA[Tutti per Linux]]></dc:creator>
		<pubDate>Fri, 24 Apr 2015 10:37:01 +0000</pubDate>
				<category><![CDATA[Networking]]></category>
		<category><![CDATA[Sicurezza]]></category>
		<category><![CDATA[SysAdmin]]></category>
		<category><![CDATA[apache]]></category>
		<category><![CDATA[bruteforce]]></category>
		<category><![CDATA[ddos]]></category>
		<category><![CDATA[directadmin]]></category>
		<category><![CDATA[httpd]]></category>
		<category><![CDATA[linux blog in italiano]]></category>
		<category><![CDATA[slowloris]]></category>
		<guid isPermaLink="false">http://tuttiperlinux.com/?p=1101</guid>

					<description><![CDATA[Gli attacchi del tipo SlowHTTP/Slowloris sono tra i più fastidiosi da ricevere in quanto il server di per sè non riporta nessuna anomalia se non un elevato numero di processi attivo, ma senza carico effettivo sulla macchina, questo perchè l’attacco apre quante più connessioni possibili al webserver e le lascia aperte inviando saltuariamente qualche header &#8230; <a href="https://tuttiperlinux.blog/2015/04/24/proteggere-i-server-da-attacchi-slowhttpslowloris/">Continua a leggere <span class="meta-nav">&#8594;</span></a>]]></description>
										<content:encoded><![CDATA[<div data-shortcode="caption" id="attachment_1102" style="width: 310px" class="wp-caption alignleft"><img loading="lazy" aria-describedby="caption-attachment-1102" data-attachment-id="1102" data-permalink="https://tuttiperlinux.blog/2015/04/24/proteggere-i-server-da-attacchi-slowhttpslowloris/ddos_attack_slow/#main" data-orig-file="https://tuttiperlinux.files.wordpress.com/2015/04/ddos_attack_slow.jpg" data-orig-size="400,300" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="DDOS_attack_slow" data-image-description="&lt;p&gt;SlowHTTP difendersi da attacchi DDOS&lt;/p&gt;
" data-image-caption="&lt;p&gt;SlowHTTP difendersi da attacchi DDOS&lt;/p&gt;
" data-medium-file="https://tuttiperlinux.files.wordpress.com/2015/04/ddos_attack_slow.jpg?w=300" data-large-file="https://tuttiperlinux.files.wordpress.com/2015/04/ddos_attack_slow.jpg?w=400" class="size-medium wp-image-1102" src="https://tuttiperlinux.files.wordpress.com/2015/04/ddos_attack_slow.jpg?w=300&#038;h=225" alt="SlowHTTP difendersi da attacchi DDOS" width="300" height="225" srcset="https://tuttiperlinux.files.wordpress.com/2015/04/ddos_attack_slow.jpg?w=300&amp;h=225 300w, https://tuttiperlinux.files.wordpress.com/2015/04/ddos_attack_slow.jpg?w=150&amp;h=113 150w, https://tuttiperlinux.files.wordpress.com/2015/04/ddos_attack_slow.jpg 400w" sizes="(max-width: 300px) 100vw, 300px" /><p id="caption-attachment-1102" class="wp-caption-text">SlowHTTP difendersi da attacchi DDOS</p></div>
<p>Gli attacchi del tipo SlowHTTP/Slowloris sono tra i più fastidiosi da ricevere in quanto il server di per sè non riporta nessuna anomalia se non un elevato numero di processi attivo, ma senza carico effettivo sulla macchina, questo perchè l’attacco apre quante più connessioni possibili al webserver e le lascia aperte inviando saltuariamente qualche header per mantenere aperta la connessione saturando di fatto il numero massimo di connessioni che il server può gestire e rendendolo irraggiungibile.</p>
<p>N.B.: con il termine attacco Slowloris s&#8217;intende un tipo di attacco chiamato Distributed Denial of Service (DDoS) che, in questo caso, sfrutta lo script Slowloris, scritto da Robert Hansen, grazie a cui vengono create una serie di connessioni web con lo scopo di inviare una enorme quantità di dati al server vittima in modo da renderlo inutilizzabile per gli utenti.</p>
<p>Un&#8217; attacco con tale script permette tra l&#8217;altro ad una singola macchina attaccante di occupare le risorse di un server con un&#8217;ampiezza di banda minima e limitati effetti collaterali a servizi e porte non coinvolte.</p>
<p>Slowloris prova a mantenere le connessioni aperte ad un server web obiettivo e trattenerle aperte il più a lungo possibile. Fa questo, aprendo le connessioni al server web obiettivo e inviandogli richieste parziali. Periodicamente, invierà le successive intestazioni HTTP, aggiungendo ma mai completando la richiesta. I server attaccati terranno così le connessioni aperte, riempiendo il loro numero di connessioni disponibili, infine negando ulteriori tentativi di connessione dai client.<span style="font-size:13.333333015442px;line-height:20px;"> </span>Viene spesso usato anche per effettuare verifiche sulla stabilità di server, che forniscono servizi sotto stress.</p>
<p><span id="more-217"></span>Per proteggersi da questo tipo di attacchi si ricorre a degli escamotage, uno dei quali è limitare il numero di connessioni massime per IP in modo da evitare che questo possa intasare il server, per proteggere un server con directadmin, come pannello di gestione, e apache da questo tipo di attacchi basta semplicemente lanciare i seguenti comandi da root</p>
<pre>cd /root
wget ftp://ftp.monshouwer.eu/pub/linux/mod_antiloris/installoris

chmod 755 installoris
./installoris</pre>
<p>come segnalato sul sito di <a href="http://help.directadmin.com/item.php?id=302" target="_blank">DirectAdmin</a></p>
<p>questi comandi non faranno altro che scaricare e installare il modulo mod_antiloris per apache (httpd), installarlo e riavviarlo.</p>
<p>&nbsp;</p>
<p>#DifendersidaAttacchiSlowHTTP</p>
<p>&nbsp;</p>
]]></content:encoded>
					
					<wfw:commentRss>https://tuttiperlinux.blog/2015/04/24/proteggere-i-server-da-attacchi-slowhttpslowloris/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		
		<media:content url="https://2.gravatar.com/avatar/855ab7cb725a5b56c356471b79d1cef6?s=96&#38;d=&#38;r=G" medium="image">
			<media:title type="html">lordisil72lordisil72</media:title>
		</media:content>

		<media:content url="https://tuttiperlinux.files.wordpress.com/2015/04/ddos_attack_slow.jpg?w=300" medium="image">
			<media:title type="html">SlowHTTP difendersi da attacchi DDOS</media:title>
		</media:content>
	</item>
		<item>
		<title>Proteggiti dagli attacchi brute force con APF BFD e DDOS Deflate</title>
		<link>https://tuttiperlinux.blog/2015/04/10/proteggiti-dagli-attacchi-brute-force-con-apf-bfd-e-ddos-deflate/</link>
					<comments>https://tuttiperlinux.blog/2015/04/10/proteggiti-dagli-attacchi-brute-force-con-apf-bfd-e-ddos-deflate/#respond</comments>
		
		<dc:creator><![CDATA[Tutti per Linux]]></dc:creator>
		<pubDate>Fri, 10 Apr 2015 00:29:16 +0000</pubDate>
				<category><![CDATA[Sicurezza]]></category>
		<category><![CDATA[SysAdmin]]></category>
		<category><![CDATA[alert]]></category>
		<category><![CDATA[apf]]></category>
		<category><![CDATA[bfd]]></category>
		<category><![CDATA[brute force]]></category>
		<category><![CDATA[ddos]]></category>
		<category><![CDATA[firewall]]></category>
		<category><![CDATA[iptables]]></category>
		<category><![CDATA[linux blog in italiano]]></category>
		<guid isPermaLink="false">http://tuttiperlinux.com/?p=1090</guid>

					<description><![CDATA[Usare password lunghe e complesse spesso non è sufficiente a proteggere il proprio server da eventuali intrusioni, proprio per questo oggi spieghiamo come proteggerli da attacchi di tipo brute force utilizzando due semplici software che sfruttano il firewall iptables. Questi due software vengono distribuiti gratuitamente dal sito http://www.rfxn.com/ . Vediamo quindi nel dettaglio cosa fanno &#8230; <a href="https://tuttiperlinux.blog/2015/04/10/proteggiti-dagli-attacchi-brute-force-con-apf-bfd-e-ddos-deflate/">Continua a leggere <span class="meta-nav">&#8594;</span></a>]]></description>
										<content:encoded><![CDATA[<div data-shortcode="caption" id="attachment_1091" style="width: 310px" class="wp-caption alignleft"><a href="https://tuttiperlinux.files.wordpress.com/2015/04/apf-bfd_firewall.jpg"><img aria-describedby="caption-attachment-1091" data-attachment-id="1091" data-permalink="https://tuttiperlinux.blog/2015/04/10/proteggiti-dagli-attacchi-brute-force-con-apf-bfd-e-ddos-deflate/apf-bfd_firewall/#main" data-orig-file="https://tuttiperlinux.files.wordpress.com/2015/04/apf-bfd_firewall.jpg" data-orig-size="300,225" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="apf-bfd_firewall" data-image-description="&lt;p&gt;APF &amp;amp; BFD difenditi dai Brute Force&lt;/p&gt;
" data-image-caption="&lt;p&gt;APF &amp;amp; BFD difenditi dai Brute Force&lt;/p&gt;
" data-medium-file="https://tuttiperlinux.files.wordpress.com/2015/04/apf-bfd_firewall.jpg?w=300" data-large-file="https://tuttiperlinux.files.wordpress.com/2015/04/apf-bfd_firewall.jpg?w=300" class="size-full wp-image-1091" src="https://tuttiperlinux.files.wordpress.com/2015/04/apf-bfd_firewall.jpg?w=600" alt="APF &amp; BFD difenditi dai Brute Force" srcset="https://tuttiperlinux.files.wordpress.com/2015/04/apf-bfd_firewall.jpg 300w, https://tuttiperlinux.files.wordpress.com/2015/04/apf-bfd_firewall.jpg?w=150 150w" sizes="(max-width: 300px) 100vw, 300px"   /></a><p id="caption-attachment-1091" class="wp-caption-text">APF &amp; BFD difenditi dai Brute Force</p></div>
<p>Usare password lunghe e complesse spesso non è sufficiente a proteggere il proprio server da eventuali intrusioni, proprio per questo oggi spieghiamo come proteggerli da attacchi di tipo <a href="https://it.wikipedia.org/wiki/Metodo_forza_bruta"><strong>brute force</strong></a> utilizzando due semplici software che sfruttano il firewall iptables.</p>
<p>Questi due software vengono distribuiti gratuitamente dal sito <a href="http://www.rfxn.com/" rel="nofollow">http://www.rfxn.com/</a> . Vediamo quindi nel dettaglio cosa fanno e come configurarli.</p>
<p><strong><br />
APF</strong></p>
<p>Partiamo da <strong>APF</strong> (advanced policy firewall), questo software è una sorta di configuratore per iptables, che ci permette di configurare in modo semplice e rapido le regole base di iptables come ad esempio le porte da aprire in base ai servizi che utilizziamo, il tutto a partire da un semplice file di configurazione molto dettagliato e con ogni opzione ben commentata.</p>
<p><strong>INSTALLAZIONE</strong><br />
Per installarlo basta scaricare il pacchetto <a href="http://www.rfxn.com/downloads/apf-current.tar.gz e" rel="nofollow">http://www.rfxn.com/downloads/apf-current.tar.gz e</a> decomprimerlo (per versioni ubuntu/debian possiamo usare <strong>sudo apt-get install apf-firewall</strong>).</p>
<pre>wget http://www.rfxn.com/downloads/apf-current.tar.gz

tar zxf apf-current.tar.gz

ora entriamo nella directory appena estratta e installare APF

cd apf-9.7-2/

./install.sh

Installing APF 9.7-2: Completed.

Installation Details:
Install path: /etc/apf/
Config path: /etc/apf&lt;firewall&gt;/conf.apf
Executable path: /usr/local/sbin/apf

Other Details:
Listening TCP ports: 21,22,80,631,3306,5900,15749,17500
Listening UDP ports: 5353,15749,17500,38366
Note: These ports are not auto-configured; they are simply presented for information purposes. You must manually configure all port options.
ora andiamo a modificare il file di configurazione /etc/apf&lt;firewall&gt;/conf.apf

DEVEL_MODE="1"
questo parametro indica se apf è in modalità sviluppo (e quindi non applica le regole) o in modalità produzione e quindi rende effettive le regole del firewall, prima di impostarlo a 0 per renderlo attivo modifichiamo il resto delle regole altrimenti rischiamo di chiuderci fuori dal server

Impostiamo le porte in ascolto modificando il paramentro IG_TCP_CPORTS

# Common inbound (ingress) TCP ports
IG_TCP_CPORTS="22,21,20,80,25,53,110,143,443,2222,587,953,993,995,4949"
esempio d'impostazioni che sono valide per i servizi ssh,ftp,web,mail (pop/imap/smtp),directadmin e munin

questi invece gli esempi per le impostazioni per le porte in uscita

# Common outbound (egress) TCP ports
EG_TCP_CPORTS="21,25,80,443,43"
e poi più sotto impostiamo a “1″ le seguenti variabili che ci permettono di scaricare delle liste di ip conosciuti come malevoli in modo da filtrare a priori il loro traffico

DLIST_PHP="1"
DLIST_SPAMHAUS="1"
DLIST_DSHIELD="1"
DLIST_RESERVED="1"

ora salviamo ed avviamo apf tramite il comando

apf -s</pre>
<p><strong>BFD</strong><br />
Ora passiamo a<strong> BFD</strong> (brute force detection) il quale è un software che, analizzando i log, rileva i tentativi<br />
d&#8217;intrusione ai servr con metodologia Brute Force, ciò significa che se qualcuno tenta di accedere alla nostra macchina per bucarla, nei log di sistema, BFD troverà traccia dei vari tentativi, e se questi superano una soglia, che possiamo impostare, banna gli ip responsabili tramite APF.<br />
Procediamo con il download (<a href="http://www.rfxn.com/downloads/bfd-current.tar.gz" rel="nofollow">http://www.rfxn.com/downloads/bfd-current.tar.gz</a>) e l’installazione</p>
<pre>wget http://www.rfxn.com/downloads/bfd-current.tar.gz
tar zxf bfd-current.tar.gz
cd bfd-1.5/2/
./install.sh</pre>
<p>A differenza di apf, bfd viene installato in /usr/local/bfd, procediamo ora alla modifica del fine di configurazione /usr/local/bfd/conf.bfd</p>
<pre># how many failure events must an address have before being blocked?
# you can override this on a per rule basis in /usr/local/bfd/rules/
TRIG="15"

# send email alerts for all events [0 = off; 1 = on]
EMAIL_ALERTS="1"

# local user or email address alerts are sent to (separate multiple with comma)
EMAIL_ADDRESS="&lt;your@email.com&gt;"

# subject of email alerts
EMAIL_SUBJECT="Brute Force Warning for $HOSTNAME"</pre>
<p>la prima variabile indica il numero di eventi che devono esser trovati nei file di log per scatenare il ban, questa impostazione può essere modificata successivamente servizio per servizio mentre EMAIL_ALERTS,EMAIL_ADDRESS e EMAIL_SUBJECT servono per ricevere una copia via email dei vari attacchi rilevati e delle azioni intraprese da bfd per bloccare eventuali nuovi attacchi dall’host.</p>
<pre># syslog auth log path
AUTH_LOG_PATH="/var/log/auth.log"</pre>
<p>verificate anche che questo file punti correttamente al vostro auth log (di default nell’installazione bfd punta a /var/log/secure)</p>
<p>e come ultima cosa modificate il file /etc/cron.d/bfd e rimuovete le seguenti righe altrimenti il cron non funzionerà</p>
<p>MAILTO=<br />
SHELL=/bin/bash</p>
<p>a questo punto anche bfd è installato e funzionante;</p>
<p>Per avviare BFD usiamo il seguente comando :</p>
<p># sudo /usr /local /sbin /BFD &#8211; s</p>
<p><strong>DDOS Deflate</strong></p>
<p>E&#8217; un piccolissimo script in bash che serve a prevenire attacchi di tipo DoS o DDOS. Principalmente si basa sempre sul blocco degli indirizzi ip come mod_evasive, se quest’ultimi inviano &#8220;X&#8221; richieste al server in modo continuativo. In tal caso lo script attiva il firewall del server.</p>
<p>Vediamo come installarlo</p>
<p>Installare DDOS Deflate<br />
dalla vostra shell di Linux, lanciate questo comando:</p>
<pre>wget http://www.inetbase.com/scripts/ddos/install.sh</pre>
<p>Successivamente andranno impostati i permessi al file ed eseguire l’installazione<br />
chmod 0700 install.sh</p>
<p>./install.sh</p>
<p>Leggerete la lincenza dello script, quindi premete<br />
q</p>
<p>Potrete leggere a video che è stato creato un file di configurazione ddos.conf nella directori /usr/local/ddos/<br />
Possiamo notare come lavora in cron lo script, lanciando il comando<br />
ls -l /etc/cron.d</p>
<p>&nbsp;</p>
<p>#DifenditidagliattacchiBruteForce</p>
]]></content:encoded>
					
					<wfw:commentRss>https://tuttiperlinux.blog/2015/04/10/proteggiti-dagli-attacchi-brute-force-con-apf-bfd-e-ddos-deflate/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		
		<media:content url="https://2.gravatar.com/avatar/855ab7cb725a5b56c356471b79d1cef6?s=96&#38;d=&#38;r=G" medium="image">
			<media:title type="html">lordisil72lordisil72</media:title>
		</media:content>

		<media:content url="https://tuttiperlinux.files.wordpress.com/2015/04/apf-bfd_firewall.jpg" medium="image">
			<media:title type="html">APF &#038; BFD difenditi dai Brute Force</media:title>
		</media:content>
	</item>
		<item>
		<title>Proteggersi da scansioni ed intrusioni</title>
		<link>https://tuttiperlinux.blog/2014/07/30/proteggersi-da-scansioni-ed-intrusioni/</link>
					<comments>https://tuttiperlinux.blog/2014/07/30/proteggersi-da-scansioni-ed-intrusioni/#comments</comments>
		
		<dc:creator><![CDATA[Tutti per Linux]]></dc:creator>
		<pubDate>Wed, 30 Jul 2014 15:06:35 +0000</pubDate>
				<category><![CDATA[Sicurezza]]></category>
		<category><![CDATA[ddos]]></category>
		<category><![CDATA[forward]]></category>
		<category><![CDATA[icmp]]></category>
		<category><![CDATA[iptables]]></category>
		<category><![CDATA[kernel]]></category>
		<category><![CDATA[memoria]]></category>
		<category><![CDATA[run-time]]></category>
		<category><![CDATA[sicurezza]]></category>
		<category><![CDATA[smurf]]></category>
		<category><![CDATA[sniffing]]></category>
		<category><![CDATA[spoofing]]></category>
		<category><![CDATA[sysctl]]></category>
		<guid isPermaLink="false">http://tuttiperlinux.wordpress.com/?p=224</guid>

					<description><![CDATA[Sysctl Molte volte si pensa che per poter difendere il nostro amato PC da occhi indiscreti ci voglia chissa&#8217; quale software sofisticato , oppure una decennale esperienza nella scrittura di regole con iptables ; certo tutto questo aiuta comunque, ma e&#8217; anche vero che nella maggior parte dei casi il nostro PC non e&#8217; poi cosi&#8217; &#8230; <a href="https://tuttiperlinux.blog/2014/07/30/proteggersi-da-scansioni-ed-intrusioni/">Continua a leggere <span class="meta-nav">&#8594;</span></a>]]></description>
										<content:encoded><![CDATA[<h2><strong><a href="https://tuttiperlinux.files.wordpress.com/2014/07/shell.jpg"><img data-attachment-id="225" data-permalink="https://tuttiperlinux.blog/2014/07/30/proteggersi-da-scansioni-ed-intrusioni/shell/#main" data-orig-file="https://tuttiperlinux.files.wordpress.com/2014/07/shell.jpg" data-orig-size="120,120" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Sysctl" data-image-description="" data-image-caption="" data-medium-file="https://tuttiperlinux.files.wordpress.com/2014/07/shell.jpg?w=120" data-large-file="https://tuttiperlinux.files.wordpress.com/2014/07/shell.jpg?w=120" class="alignleft size-full wp-image-225" src="https://tuttiperlinux.files.wordpress.com/2014/07/shell.jpg?w=600" alt="Sysctl"   /></a>Sysctl</strong></h2>
<p>Molte volte si pensa che per poter difendere il nostro amato PC da occhi indiscreti ci voglia chissa&#8217; quale software sofisticato , oppure una decennale esperienza nella scrittura di regole con <strong>iptables </strong>; certo tutto questo aiuta comunque, ma e&#8217; anche vero che nella maggior parte dei casi il nostro PC non e&#8217; poi cosi&#8217; invitante e non contiene nessun vero segreto che valga la pena, per un hacker ( o x meglio dire chracker ) di perderci del tempo. Quindi molte volte alziamo fortificazioni esagerate, oltre il nostro vero sapere e controllo, senza avere un buon motivo. Si potrebbe invece iniziare a prendere dimestichezza con tutta quella serie di tools che Linux fornisce di base per cominciare a restringere le possibilita&#8217; di accesso agli estranei ed ai curiosi.</p>
<p>Oggi inizieremo da <strong>sysctl</strong> ossia &#8221; <strong>la gestione dei parametri del kernel</strong>  &#8221;</p>
<p>Il comando<strong> sysctl </strong>viene usato per la personalizzazione dei parametri in<strong> run-time del kernel</strong> che si trovano in /proc/sys.<br />
Per avere uno sguardo dell’output del comando basterà digitare da root:</p>
<blockquote><p><strong>sysctl -a</strong></p></blockquote>
<p><strong>Le categorie</strong></p>
<pre>                 debug
                 dev
                 fs
                 kernel
                 net
                 vm

<strong>Significato</strong>
parametri per il debug.
parametri dei dispositivi.
parametri dei filesystem.
parametri generici del kernel.
parametri della rete.
parametri della memoria virtuale.

Praticamente possiamo modificare molti valori riguardanti il sistema,la rete,ecc.</pre>
<p>Possiamo cambiare valore ai vari parametri in base alle nostre esigenze, facciamo un esempio.<br />
Vogliamo cambiare valore all’ip forward:</p>
<blockquote><p>sysctl -a | grep ip_forward</p></blockquote>
<pre>@lorenzo:/etc# sysctl -a | grep ip_forward
net.ipv4.ip_forward = 0</pre>
<p><strong>Come vediamo il valore è a 0</strong> e noi <strong>lo vogliamo mettere a 1</strong>:</p>
<blockquote><p>sysctl -w net.ipv4.ip_forward=”1″</p></blockquote>
<p>Come possiamo vedere ha preso il valore 1:</p>
<pre>@lorenzo:/etc# sysctl -a | grep ip_forward
net.ipv4.ip_forward = 0</pre>
<p>Ovviamente<strong> questa modifica è temporanea</strong> infatti dopo un riavvio il valore torna a 0, ma possiamo renderla<strong> definitiva </strong>andato a editare il file<strong> /etc/sysctl.conf</strong> (facendo sempre prima un bel backup) mettendo 1 alla voce net.ipv4.ip_forward.</p>
<p>Una volta scritta la regola nel file ed usciti dalla modalita&#8217; scrittura dovremo far rileggere la configurazione dei parametri di questo file tramite il seguente comando:</p>
<blockquote><p><strong>sysctl -p</strong></p></blockquote>
<p>Vediamo ora alcuni parametri e scopriamo a cosa servono :</p>
<p><strong>net.ipv4.tcp_syncookies</strong>:  Quando abilitato, protegge dagli attacchi SYN FLOOD</p>
<p><strong>net.ipv4.icmp_echo_ignore_broadcasts</strong>: Quando abilitato, ignora tutte le richieste ICMP ECHO e TIMESTAMP dirette ad indirizzi broadcast e multi cast proteggendo il server da attacchi SMURF.</p>
<p><strong>net.ipv4.icmp_ignore_bogus_error_responses</strong>: Quando abilitato, protegge da errori ICMP maligni</p>
<p><strong>net.ipv4.tcp_keepalive_time</strong>: Definisce ogni quanti secondi inviare al client con una connessione keepalive aperta un pacchetto in modo tale da mantenerla aperta.</p>
<p>L’abilitazione dei seguenti paramentri permette di inoltrare il traffico di rete da un’interfaccia ad un’altra agendo come un router:</p>
<p><strong>net.ipv4.ip_forward</strong><br />
<strong>net.ipv4.conf.all.send_redirects</strong><br />
<strong>net.ipv4.conf.default.send_redirects</strong></p>
<p><strong>net.ipv4.tcp_max_syn_backlog=512</strong>   Quando la coda dei segmenti SYN provenienti da un certo host supera il numero stabilito in questo parametro il kernel invece di tenere i dati in arrivo nella coda dei pacchetti SYN in attesa di risposta, invierà un SYN+ACK di risposta.<br />
Si svuota cosi la coda SYN, evitando che diventi troppo grande,</p>
<p><strong>net.ipv4.icmp_echo_ignore_broadcasts = 1</strong>  Il kernel ignorerà i ping destinati all’indirizzo di broadcast della rete. Questo può evitare diversi tipi di <strong>attacchi DOS</strong>.</p>
<p><strong>net.ipv4.ip_conntrack_max=15000</strong>  Viene impostato il numero massimo di connessioni che il sistema può gestire. E’ bene dimensionare tale numero in base alle risorse del sistema, per evitare in ogni momento il rischio che la RAM si esaurisca. *** ***Prevenzione <strong>attacchi DOS</strong>.</p>
<p><strong>net.ipv4.ipfrag_high_tresh=131072</strong></p>
<p><strong>net.ipv4.ipfrag_low_tresh=102400</strong></p>
<p>Queste due opzioni indicano la quantità di RAM massima e minima che deve essere usata nel momento in cui i segmenti TCP vengono riassemblati, per non esaurire la RAM.  ***Prevenzione <strong>attacchi DOS</strong>.</p>
<p><strong>net.ipv4.ipfrag_time=20</strong> Quest’opzione indica in secondi il tempo che i segmenti TCP devono essere tenuti in memoria</p>
<p><strong>net.ipv4.conf.all.rp_filter=1</strong> Quest’opzione è utile quando un pacchetto arriva in ingresso su un’interfaccia di rete diversa da quella che ci si aspetterebbe secondo le tabelle di routing.  ***Protezione contro <strong>attacchi di Spoofing</strong></p>
<p><strong>net.ipv4.tcp_mem = 12288, 16384, 24576<br />
</strong>Queste impostazioni istruiscono lo stack TCP su come compostarsi nei riguardi dell’uso della memoria. Indicano al kernel qual&#8217;e&#8217; la soglia al di sopra della quale debba iniziare un uso più attento della memoria. Il primo attributo indica il valore per il quale il kernel non si deve preoccupare dell’utilizzo della memoria. Il secondo attributo invece indica la valore per il quale il kernel deve iniziare a forzare la diminuzione dell’uso della memoria. Questo stato si chiama <strong>memory pressure mode</strong>.<br />
L’ultimo valore indica il valore per il quale il kernel non può piu assegnare pagine di memoria finchè non torna sotto la soglia.</p>
<p>Per l’architettura <strong>x86</strong> ad esempio le pagine di memoria sono grandi <strong>4096 byte</strong>.<br />
E’ bene dimensionare la configurazione di questa variabile in base alla RAM disponibile sulla propria macchina, per evitare l’esaurimento delle risorse.</p>
<p>Nel prossimo articolo vedremo altri tool ed altri sistemi di protezione integrati , bye !!</p>
]]></content:encoded>
					
					<wfw:commentRss>https://tuttiperlinux.blog/2014/07/30/proteggersi-da-scansioni-ed-intrusioni/feed/</wfw:commentRss>
			<slash:comments>1</slash:comments>
		
		
		
		<media:content url="https://2.gravatar.com/avatar/855ab7cb725a5b56c356471b79d1cef6?s=96&#38;d=&#38;r=G" medium="image">
			<media:title type="html">lordisil72lordisil72</media:title>
		</media:content>

		<media:content url="https://tuttiperlinux.files.wordpress.com/2014/07/shell.jpg" medium="image">
			<media:title type="html">Sysctl</media:title>
		</media:content>
	</item>
	</channel>
</rss>
