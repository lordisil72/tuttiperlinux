<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	xmlns:georss="http://www.georss.org/georss" xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#" xmlns:media="http://search.yahoo.com/mrss/"
	>

<channel>
	<title>ddrescue &#8211; Tutti per Linux</title>
	<atom:link href="https://tuttiperlinux.blog/tag/ddrescue/feed/" rel="self" type="application/rss+xml" />
	<link>https://tuttiperlinux.blog</link>
	<description>Tutto cio&#039; che avresti sempre voluto capire su Linux ed il mondo Digitale</description>
	<lastBuildDate>Fri, 27 Jun 2014 09:29:21 +0000</lastBuildDate>
	<language>it-IT</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>http://wordpress.com/</generator>
<cloud domain='tuttiperlinux.blog' port='80' path='/?rsscloud=notify' registerProcedure='' protocol='http-post' />
<image>
		<url>https://secure.gravatar.com/blavatar/fa5c4cf69896031d9ec71ff8d5aafd25?s=96&#038;d=https%3A%2F%2Fs0.wp.com%2Fi%2Fbuttonw-com.png</url>
		<title>ddrescue &#8211; Tutti per Linux</title>
		<link>https://tuttiperlinux.blog</link>
	</image>
	<atom:link rel="search" type="application/opensearchdescription+xml" href="https://tuttiperlinux.blog/osd.xml" title="Tutti per Linux" />
	<atom:link rel='hub' href='https://tuttiperlinux.blog/?pushpress=hub'/>
	<item>
		<title>Copia Bit a Bit</title>
		<link>https://tuttiperlinux.blog/2014/06/24/copia-bit-a-bit/</link>
					<comments>https://tuttiperlinux.blog/2014/06/24/copia-bit-a-bit/#comments</comments>
		
		<dc:creator><![CDATA[Tutti per Linux]]></dc:creator>
		<pubDate>Tue, 24 Jun 2014 10:03:12 +0000</pubDate>
				<category><![CDATA[Backup & Disaster Recovery]]></category>
		<category><![CDATA[bit]]></category>
		<category><![CDATA[copy]]></category>
		<category><![CDATA[dd]]></category>
		<category><![CDATA[ddrescue]]></category>
		<category><![CDATA[drive]]></category>
		<category><![CDATA[fault]]></category>
		<category><![CDATA[logfile]]></category>
		<guid isPermaLink="false">http://tuttiperlinux.wordpress.com/?p=15</guid>

					<description><![CDATA[Con l&#8217;uso di fsck dovremmo aver corretto diversi problemi sui nostri dischi ma qualche volta tutto cio&#8217; non basta ed il problema potrebbe essere piu&#8217; serio ed il disco hardware potrebbe essere li li per lasciarci. Dischi morenti , con testine saltellanti, che contengono tutti i nostri preziosi dati non sono una bella cosa da vedere. Come &#8230; <a href="https://tuttiperlinux.blog/2014/06/24/copia-bit-a-bit/">Continua a leggere <span class="meta-nav">&#8594;</span></a>]]></description>
										<content:encoded><![CDATA[<p>Con l&#8217;uso di fsck dovremmo aver corretto diversi problemi sui nostri dischi ma qualche volta tutto cio&#8217; non basta ed il problema potrebbe essere piu&#8217; serio ed il disco hardware potrebbe essere li li per lasciarci.</p>
<p>Dischi morenti , con testine saltellanti, che contengono tutti i nostri preziosi dati non sono una bella cosa da vedere. Come spiegato nel primo articolo in questi casi la prima cosa da evitare e&#8217; di andare a modificare qualunque file e questo puo&#8217; intendere anche cercare di farne singole copie su di altri supporti, questo perche&#8217;ogni azione compiuta vi avvicinera&#8217; sempre di piu&#8217; al momento di <strong>fault</strong> del disco, complicando molto ogni futura azione, la cosa migliore quindi e&#8217; quella di non sottoporre ad ulteriore stress il disco e di clonarlo immediatamente effettuando una sua immagine &#8220;bit to bit&#8221; , sara&#8217; sempre possibile, con tutta calma, operare sulla copia per estrapolare e becappare i nostri preziosi dati. Normalmente per effettuare questo tipo di copie si usa il tool <strong>dd </strong>ma in questo caso, presupponendo, un imminente guasto/arresto del disco a causa di seri problemi non fara&#8217; al nostro caso poiche&#8217; &#8216;dd&#8217; e&#8217; progettato per interrompersi non appena riscontra un errore e non sarebbe di grande aiuto dovendo operare su di un disco non funzionante. Affideremo quindi questa delicata operazione al comando <strong>ddrescue</strong> che, come <strong>dd</strong> , viene utilizzato per effettuare copie &#8216;bit to bit&#8217; ma , diversamente da &#8216;dd&#8217; , e&#8217; in grado di saltare i blocchi guasti rilevati sul disco durante l&#8217;esecuzione e di copiare soltanto quelli sani.</p>
<p>Ora per poter cominciare questa importante fase ocorrera&#8217; procurarsi un supporto su cui effettuare la copia, sta a voi usare il device (sano) che avete a disposizione sia che sia un secondo disco (interno/esterno) una chiavetta USB o altro, la cosa piu&#8217; importante da verificare e&#8217; che mentre il disco su cui effettuerete la copia dovra&#8217; essere montato sul sistema, quello da &#8220;copiare&#8221; (difettoso) dovra&#8217; invece essere smontato; effettuata questa importante verifica potremo lanciare il tutto eseguendo il seguente comando (come negli articoli precedenti nel mio caso il disco primario e di root del sistema e&#8217; /dev/sdd1 quindi lo usero&#8217; come esempio) :</p>
<ul>
<li><strong>sudo ddrescue /dev/sdd1 /media/drive-di-backup/sdd1.image /media/drive-di-backup/logfile</strong></li>
</ul>
<p>questo comando effettuera&#8217; la copia della partizione <strong>sdd1 </strong>del disco guasto e la salvera&#8217; nel file  <strong>sdd1.image</strong> all&#8217;interno del disco di backup montato sotto /media/&lt;drive-di-backup&gt; , l&#8217;ultima parte si occupa invece di creare anche un file di LOG da poter leggere in caso di problemi. A questo punto tutti o gran parte dei nostri dati (dipende da quanto grave sia il guasto sul disco) saranno stati copiati e salvati sull&#8217;immagine creata; ora volendo essere pignoli potremmo chiedere ancora a ddrescue di cercare di recuperare quelle parti di blocchi/informazioni che risultano difettose tramite il seguente comando :</p>
<ul>
<li><strong>sudo ddrescue -r 3 -C</strong> <strong>/dev/sdd1 /media/drive-di-backup/sdd1.image /media/drive-di-backup/logfile</strong></li>
</ul>
<p>in pratica con l&#8217;aggiunta dell&#8217;opzione &#8221; -r 3 &#8221; diciamo a ddrescue di effettuare un numero massimo di tre tentativi di lettura di quei dati su cui ha riscontrato errori per cercare cosi di riempire ulteriormente qualche altra fetta dei nostri preziosi dati. Questa operazione causa un forte stress sul disco ecco perche&#8217; la eseguiamo soltanto dopo aver messo al riparo tutto il resto sull&#8217;immagine creata al primo giro. Sara&#8217; proprio grazie alla lettura del file di LOG che ddrescue e&#8217; in grado di riempire/aggiungere soltanto i blocchi vuoti , senza rileggere le parti gia&#8217; eseguite correttamente in precedenza.</p>
<p>Ultimo consiglio se dovete salvare piu&#8217; partizioni eseguite ddrescue piu&#8217; volte tante quante sono le partizioni per voi necessarie e create N file .image .</p>
<p>** Leggi anche ( &#8221; <a title="A volte basta poco !" href="https://tuttiperlinux.wordpress.com/2014/06/24/a-volte-basta-poco/">a volte basta poco!</a> &#8221; )</p>
]]></content:encoded>
					
					<wfw:commentRss>https://tuttiperlinux.blog/2014/06/24/copia-bit-a-bit/feed/</wfw:commentRss>
			<slash:comments>1</slash:comments>
		
		
		
		<media:content url="https://2.gravatar.com/avatar/855ab7cb725a5b56c356471b79d1cef6?s=96&#38;d=&#38;r=G" medium="image">
			<media:title type="html">lordisil72lordisil72</media:title>
		</media:content>
	</item>
		<item>
		<title>Linux Rescue File System</title>
		<link>https://tuttiperlinux.blog/2014/06/23/linux-rescue-file-system/</link>
					<comments>https://tuttiperlinux.blog/2014/06/23/linux-rescue-file-system/#comments</comments>
		
		<dc:creator><![CDATA[Tutti per Linux]]></dc:creator>
		<pubDate>Mon, 23 Jun 2014 12:43:51 +0000</pubDate>
				<category><![CDATA[Backup & Disaster Recovery]]></category>
		<category><![CDATA[ddrescue]]></category>
		<category><![CDATA[hdrecover]]></category>
		<category><![CDATA[MBR]]></category>
		<category><![CDATA[NTFS]]></category>
		<category><![CDATA[photorec]]></category>
		<category><![CDATA[sfdisk]]></category>
		<category><![CDATA[testdisk]]></category>
		<guid isPermaLink="false">http://tuttiperlinux.wordpress.com/?p=2</guid>

					<description><![CDATA[Nulla si crea, nulla si distrugge&#8230;..tutto si recupera!  Avete mai pensato che ai dischi dei vostri PC possono capitare molte cose spiacevoli:perdita inaspettata di elettricità&#8217;, campi magnetici forti&#8230;. ed i vostri dati si trasformano in ZOMBIE. Come poter uscire da questa spiacevole situazione ?. Può non sembrare, ma la probabilità di perdere dati importanti è &#8230; <a href="https://tuttiperlinux.blog/2014/06/23/linux-rescue-file-system/">Continua a leggere <span class="meta-nav">&#8594;</span></a>]]></description>
										<content:encoded><![CDATA[<blockquote><p><strong>Nulla si crea, nulla si distrugge&#8230;..tutto si recupera! </strong></p></blockquote>
<p>Avete mai pensato che ai dischi dei vostri PC possono capitare molte cose spiacevoli:perdita inaspettata di elettricità&#8217;, campi magnetici forti&#8230;. ed i vostri dati si trasformano in ZOMBIE. Come poter uscire da questa spiacevole situazione ?. Può non sembrare, ma la probabilità di perdere dati importanti è molto alta, solo per fare un esempio può verificarsi a seguito di:</p>
<ul>
<li>errori umani (es. per sbaglio “facendo pulizia” nel computer si cancella un file di troppo; oppure dopo aver editato un file al posto di scegliere “Salva con nome…” si preme “Salva” ed ecco che la versione originale del file viene persa.);</li>
<li>guasti (es. si rompe il disco rigido su cui erano memorizzati i dati, si danneggia la chiavetta USB, si riga il CD/DVD ecc.)</li>
<li>minacce informatiche (es. virus che cancella i dati del computer, virus che cifra i documenti presenti sul computer e chiede il riscatto ecc.)</li>
<li>furti (es. il ladro ruba i computer dell’ufficio/casa su cui erano memorizzate tutte i nostri dati sensibili&#8230;&#8230;!!!)</li>
<li>disastri (es. incendi, allagamenti ecc.)</li>
</ul>
<p><strong>Importante:</strong> appena scopri di aver accidentalmente cancellato o altrimenti perso dei dati, NON registrare più nulla su quel dispositivo di memoria o hard disk, correresti il rischio di sovrascrivere i dati che invece vorresti recuperare.</p>
<p>La cosa troppo spesso sottovalutata e che non importa da quanto tempo usate i computer, nonostante la vostra esperienza prima o poi capitera&#8217; a chiunque di perdere dati + o &#8211; importanti; quindi per quanto ci si pensi &#8220;infallibili&#8221; sempre meglio avere una buona schedulazone di BACKUP, che dovrebbero comprendere non solo files (musica, film, foto ecc&#8230;) ma anche importanti files<br />
di configurazione (gestione dell&#8217;interfaccia grafica, l&#8217;<strong>MBR</strong>, le regole di firewall ecc&#8230;).</p>
<p>Detto questo ci sono ancora diversi tool che possono venire in aiuto per uscire da una spiacevole situazione. Lascio perdere tool blasonati (ed a pagamento), in quanto gia&#8217; supporati da manuali/call center ed assistenze varie, per lanciarmi nell&#8217;introduzione dei sistemi OpenSource.<br />
[<strong>Nota:</strong> nessun sistema e&#8217; infallibile e puo&#8217; dare certezze assolute che sia open/free oppure a pagamento, dipende da situazione a situazione, dalle capacita&#8217; personali/esperienza e dal fattore <strong>&#8220;C&#8221;</strong>, proprio quello che muove una parte del mondo e che ci divide tra l&#8217;essere come Gastone oppure essere un Paperino].</p>
<p><strong>FSCK :</strong> il primo tool da imparare e&#8217; il sempre verde &#8216;fsck&#8217; che si trova su ogni distro Linux esistente, questo tool viene utilizzato dal sistema, ad esempio, tutte quelle volte in cui e&#8217; necessaria una verifica della consistenza del file system a causa di una chiusura non pulita del sistema, oppure per verificare eventuali problemi di &#8220;logorio&#8221; dei dischi, facendolo partire automaticamente (scan disk)<br />
ogni tot. riavvii del sistema.</p>
<p><strong>Fsck</strong> <strong>supporta</strong> i più diffusi file system come <strong>ext2 / ext3 / ext4 / fat / fat32 / ntfs</strong> e può essere utilizzato anche per ripristinare hard disk esterni / interni anche con Microsoft Windows installato.<br />
Da notare inoltre che durate il ripristino di un file system danneggiato può succedere che alcuni file o directory non possano essere ricollocate nella pozione originaria in quanto le informazioni necessarie sono andate distrutte, in questo caso fsck ci consente di collocare i vari file e directory in una cartella dedicata situata nella radice del file system ripristinato in modo tale da poter essere ricollocati manualmente nelle directory originarie o possono essere rimossi definitivamente.</p>
<p><strong>Per utilizzare fsck</strong> nella correzione di un file system/partizione e&#8217; d&#8217;obbligo non agire sulla suddetta mentre questa e&#8217; montata, sara&#8217; quindi necessario <strong>utilizzare una</strong> <strong>LiveCD</strong> su un qualunque supporto esterno preferiate, se invece il disco / partizione da ripristinare è esterna al sistema operativo potremo operare dalla nostra distribuzione preoccupandoci soltanto di smontare la partizione in questione prima di agire con i comandi.</p>
<p>La prima cosa da fare è verificare come viene rilevato il disco o partizione da ripristinare dal nostro sistema operativo. Per verificarlo basta digitare da terminale:<br />
<strong>sudo fdisk -l</strong><br />
con questo comando averemo l&#8217;elenco dei dischi e partizioni presenti / collegati nel nostro sistema, nell&#8217;esempio la partizione da ripristinare sara&#8217; <strong>/dev/sdb1</strong></p>
<p>A questo punto avviamo fsck da root seguito dal disco da rilevare /dev/sdb1 digitiamo<br />
<strong>sudo fsck -A -r -s /dev/sdb1</strong></p>
<p>&#8230;se volete che la procedura vada avanti in modo automatico e&#8217; possibile aggiungere l&#8217;opzione<strong> -y</strong><br />
tenendo pero&#8217; presente che l&#8217;intervento automatico di fsck potrebbe rendere irrecuperabili dei dati.</p>
<p><strong>**Nota:</strong> fsck e&#8217; un tool ricco di funzionalita&#8217; avanzate per cui rimando, per la personalizzazione<br />
del comando, alla lettura della man page sul sistema oppure alle guide online presenti sui portali<br />
delle maggiori distribuzioni Linux.</p>
<p>Uno dei problemi piu&#8217; comuni che potrebbero bloccare la scansione di fsck sono i <strong>superblocchi corrotti </strong>e visto che un filesystem non puo&#8217; essere utilizzato senza un superblocco in salute esistono diverse sue copie di sicurezza disseminate in diverse posizioni del disco. Bastera&#8217; digitare <strong>sudo</strong> <strong>mke2fs -n /dev/sdb1 </strong>per trovare dove sono stati salvati i superblocchi.</p>
<p><strong>**Nota: attenzione a non dimenticare l&#8217;opzione -n senza la quale spazzereste via la vostra partizione.</strong></p>
<p>Esempio: $ <strong>sudo mke2fs /dev/sdb1</strong><br />
Superblocks backups stored on blocks:<br />
<strong>32768</strong>,98304,163840,229376 ecc&#8230;..</p>
<p>Ora potremo usare uno di questi blocchi per rimpiazzare quello indicato come corrotto durante lo scan disk con fsck, nel seguente modo :</p>
<p>es.-&gt; $ <strong>sudo e2fsck -b 32768 /dev/sdb1</strong> (dove 32768 e&#8217; il primo superblocco disponibile indicato sopra)</p>
<p>Se il filesystem dovesse essere una partizione <strong>NTFS</strong> si puo&#8217; provare ad utilizzare l&#8217;utility <strong>ntfsifx</strong>, sempre assicurandosi che la partizione in questione non sia montata, dopodiche (seguendo il nostro esempio) bastera&#8217; digitare:<br />
$ <strong>ntfsfix /dev/sdb1</strong></p>
<p>Terminate le attività&#8217; descritte saremo pronti ad effettuare un nuovo riavvio; nel caso in cui tutto ciò&#8217; non abbia funzionato, le operazioni ed i tool ancora da scoprire e provare sono diversi e verranno trattati nei prossimi articoli in cui verranno analizzati tool quali :</p>
<ul>
<li>hdrecover</li>
<li>photorec</li>
<li>ddrescue</li>
<li>foremost / scalpel</li>
<li>testdisk</li>
<li>sfdisk</li>
</ul>
]]></content:encoded>
					
					<wfw:commentRss>https://tuttiperlinux.blog/2014/06/23/linux-rescue-file-system/feed/</wfw:commentRss>
			<slash:comments>2</slash:comments>
		
		
		
		<media:content url="https://2.gravatar.com/avatar/855ab7cb725a5b56c356471b79d1cef6?s=96&#38;d=&#38;r=G" medium="image">
			<media:title type="html">lordisil72lordisil72</media:title>
		</media:content>
	</item>
	</channel>
</rss>
