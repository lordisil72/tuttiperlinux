<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	xmlns:georss="http://www.georss.org/georss" xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#" xmlns:media="http://search.yahoo.com/mrss/"
	>

<channel>
	<title>crud &#8211; Tutti per Linux</title>
	<atom:link href="https://tuttiperlinux.blog/tag/crud/feed/" rel="self" type="application/rss+xml" />
	<link>https://tuttiperlinux.blog</link>
	<description>Tutto cio&#039; che avresti sempre voluto capire su Linux ed il mondo Digitale</description>
	<lastBuildDate>Sun, 27 Jul 2014 10:12:37 +0000</lastBuildDate>
	<language>it-IT</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>http://wordpress.com/</generator>
<cloud domain='tuttiperlinux.blog' port='80' path='/?rsscloud=notify' registerProcedure='' protocol='http-post' />
<image>
		<url>https://secure.gravatar.com/blavatar/fa5c4cf69896031d9ec71ff8d5aafd25?s=96&#038;d=https%3A%2F%2Fs0.wp.com%2Fi%2Fbuttonw-com.png</url>
		<title>crud &#8211; Tutti per Linux</title>
		<link>https://tuttiperlinux.blog</link>
	</image>
	<atom:link rel="search" type="application/opensearchdescription+xml" href="https://tuttiperlinux.blog/osd.xml" title="Tutti per Linux" />
	<atom:link rel='hub' href='https://tuttiperlinux.blog/?pushpress=hub'/>
	<item>
		<title>Introduzione a CouchDB</title>
		<link>https://tuttiperlinux.blog/2014/07/26/introduzione-a-couchdb/</link>
					<comments>https://tuttiperlinux.blog/2014/07/26/introduzione-a-couchdb/#comments</comments>
		
		<dc:creator><![CDATA[Tutti per Linux]]></dc:creator>
		<pubDate>Sat, 26 Jul 2014 13:46:49 +0000</pubDate>
				<category><![CDATA[DB]]></category>
		<category><![CDATA[WebServer]]></category>
		<category><![CDATA[apache]]></category>
		<category><![CDATA[api]]></category>
		<category><![CDATA[couchdb]]></category>
		<category><![CDATA[crud]]></category>
		<category><![CDATA[database]]></category>
		<category><![CDATA[futon]]></category>
		<category><![CDATA[http]]></category>
		<category><![CDATA[localhost]]></category>
		<category><![CDATA[nosql]]></category>
		<category><![CDATA[peer-to-peer]]></category>
		<category><![CDATA[postgresql]]></category>
		<category><![CDATA[restful]]></category>
		<category><![CDATA[tuple]]></category>
		<guid isPermaLink="false">http://tuttiperlinux.wordpress.com/?p=213</guid>

					<description><![CDATA[CouchDB e&#8217; un database documentale NoSQL disponibile con l&#8217;ampia licenza Apache. Apache CouchDB e&#8217; un moderno documentale richiamabile semplicemente con l&#8217;HTTP e che al tempo stesso offre le piu&#8217; avanzate funzionalita&#8217; di replicazione dati e di ricerca in parallelo (Map/Reduce). CouchDB (acronimo di Cluster Of Unreliable Commodity Hardware) e&#8217; uno dei piu&#8217; diffusi DB documentali &#8230; <a href="https://tuttiperlinux.blog/2014/07/26/introduzione-a-couchdb/">Continua a leggere <span class="meta-nav">&#8594;</span></a>]]></description>
										<content:encoded><![CDATA[<p><b><a href="https://tuttiperlinux.files.wordpress.com/2014/07/couch.png"><img data-attachment-id="214" data-permalink="https://tuttiperlinux.blog/2014/07/26/introduzione-a-couchdb/couch/#main" data-orig-file="https://tuttiperlinux.files.wordpress.com/2014/07/couch.png" data-orig-size="160,112" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="couchDB" data-image-description="&lt;p&gt;Performing Web DB&lt;/p&gt;
" data-image-caption="" data-medium-file="https://tuttiperlinux.files.wordpress.com/2014/07/couch.png?w=160" data-large-file="https://tuttiperlinux.files.wordpress.com/2014/07/couch.png?w=160" class="alignleft size-full wp-image-214" src="https://tuttiperlinux.files.wordpress.com/2014/07/couch.png?w=600" alt="couchDB" srcset="https://tuttiperlinux.files.wordpress.com/2014/07/couch.png 160w, https://tuttiperlinux.files.wordpress.com/2014/07/couch.png?w=150 150w" sizes="(max-width: 160px) 100vw, 160px"   /></a>CouchDB</b> e&#8217; un database documentale NoSQL disponibile con l&#8217;ampia licenza Apache.<br />
Apache CouchDB e&#8217; un moderno documentale richiamabile semplicemente con l&#8217;HTTP e che al tempo stesso offre le piu&#8217; avanzate funzionalita&#8217; di replicazione dati e di ricerca in parallelo (Map/Reduce).</p>
<p>CouchDB (acronimo di Cluster Of Unreliable Commodity Hardware) e&#8217; uno dei piu&#8217; diffusi DB documentali Web grazie alla sua velocita&#8217;, alla flessibilita, alla semplicita&#8217; di utilizzo ed al&#8230; prezzo!</p>
<h2>Installazione</h2>
<p>Installare CouchDB e cURL (che serve per accedere) e&#8217; facile su Linux (eg. RedHat, Fedora, CentOS, Scientific Linux, &#8230;):</p>
<div class="video"><b>yum install couchdb curl -y</b></div>
<div class="video">oppure</div>
<div class="video"><strong>sudo aptitude install couchdb curl</strong></div>
<div class="video"></div>
<div class="video">Ora bisogna far partire il server CouchDB con il comando <b>couchdb</b>. Per verificare se funziona tutto basta un comando:</div>
<div class="video"># <b>curl <a href="http://127.0.0.1:5984" rel="nofollow">http://127.0.0.1:5984</a><br />
</b>{&#8220;couchdb&#8221;:&#8221;Welcome&#8221;,&#8221;uuid&#8221;:&#8221;fd91d8b7b77c7f6d75d5937326a95ad2&#8243;,&#8221;version&#8221;:&#8221;1.5.0&#8243;,&#8221;vendor&#8221;:{&#8220;version&#8221;:&#8221;14.04&#8243;,&#8221;name&#8221;:&#8221;Ubuntu&#8221;}}<b><br />
</b></div>
<p>CouchDB e&#8217; disponibile per tutti i sistemi UNIX-based ed anche sulle piattaforme MS-Windows e Mac OS X. Installare le versioni precedenti di CouchDB non era cosi&#8217; semplice: bisognava partire dall&#8217;installazione del linguaggio di programmazione Erlang e ricompilare&#8230;</p>
<h2>Utilizzo</h2>
<p>CouchDB e&#8217; accessibile esclusivamente attraverso un HTTP-based RESTful API, cio&#8217; significa che, anziche&#8217; collegarsi al DB server utilizzando un&#8217;applicazione client per interagire con il sistema, basta utilizzare un software in grado di interagire con un HTTP server web per fare richieste. CouchDB che a sua volta eseguira&#8217; le azioni nel database, restituendo una risposta appropriata quando finito.<br />
Quindi e&#8217; possibile gestire il database semplicemente visitando gli URL nel browser web oppure utilizzando gli strumenti da riga di comando come curl o, cosa piu&#8217; importante, attraverso qualsiasi linguaggio di programmazione che supporta richieste HTTP.<br />
L&#8217;implementazione dell&#8217;interfaccia REST (Representational Transfer State) su CouchDB e&#8217; molto completa poiche&#8217; non si limita al CRUD (CREATE, READ, UPDATE, DELETE) ma ogni operazione svolta su CouchDB e&#8217; richiamabile con l&#8217;HTTP.</p>
<h3>Futon</h3>
<p>CouchDB possiede una sua interfaccia web molto user friendly, Futon, dalla quale e&#8217; possibile eseguire qualsiasi operazione per la gestione di un database, come l&#8217;inserimento, la visualizzazione, la modifica e la cancellazione dei dati. Inoltre <strong>Futon</strong> contiene anche le principali funzionalita&#8217; di amministrazione di un database, come le impostazioni di configurazione, la replicazione dei dati, definizione dei ruoli e privilegi e uno strumento di testing.<br />
Per accedere all&#8217;interfaccia web basta collegarsi da browser a <b>localhost:5984/_utils</b></p>
<h3>cURL</h3>
<p>Per i piu&#8217; affezionati alla linea di comando (come me per esempio), si puo&#8217; usare curl, un ottimo tool utile per trasferire dati da/a un server utilizzando vari protocolli, tra cui HTTP, HTTPS, FTP. Il modo per farlo e&#8217; digitando:</p>
<pre><i>curl &lt;opzioni&gt; &lt;ip_host&gt;:5984/&lt;database&gt;/&lt;record&gt;</i>.</pre>
<p>Da notare che nel URL viene specificata la porta 5984, e&#8217; quella usata dal processo di couchdb.<br />
Tra le opzioni piu&#8217; importanti: <b>-X</b> per specificare il tipo di richiesta http: <b>GET</b> per richiedere dati, <b>PUT</b> e <b>POST</b> per modificare dati o <b>DELETE</b> per cancellare. Inoltre <b>-d</b> permette di specificare i dati da includere nella richiesta, ad esempio per modificare documenti nel database.<br />
Esempi:</p>
<pre># Crea il database "libri"
curl -X PUT http://127.0.0.1:5984/libri

# Visualizza il contenuto di "libri" (all'inizio e' vuoto)
curl -X GET http://127.0.0.1:5984/libri

# Crea il documento con _id "lafineeilmioinizio" dentro il database "libri"
curl -X PUT http://127.0.0.1:5984/libri/lafineeilmioinizio \
 -d '{"titolo":"La fine e il mio inizio", "autore":"Tiziano Terzani", 
      "casa_editrice":"Longanesi", "prezzo":"18.60"}'

# NB: Tutte le volte che un documento viene modificato riceve un revision number
# Modifica un documento aggiungendo come allegato un'immagine
curl -X PUT http://127.0.0.1:5984/libri/lafineeilmioinizio/cover.jpg?rev=1-XXX \
 --data-binary @images/budda.jpg -H "Content-Type: image/jpg"

# Crea un documento hungergames copiando il contenuto da un altro documento
curl -X COPY http://127.0.0.1:5984/libri/lafineeilmioinizio -H "Destination: hungergames"

# Cancella il documento con _id "hungergames"
curl -X DELETE http://127.0.0.1:5984/libri/hungergames?rev=1-YYY 

# Effettua un caricamento massivo di documenti da file
curl -X POST http://127.0.0.1:5984/libri/_bulk_docs -H "Content-type: application/json" -d @biblio.json

# Visualizza tutto il contenuto del database "libri" e il dettaglio dei documenti presenti
curl -X GET http://127.0.0.1:5984/libri/_all_docs?include_docs=true

</pre>
<h2>Architettura</h2>
<p>CouchDB e&#8217; un database document-oriented. Cio&#8217; significa che a differenza dei piu&#8217; tradizionali DBMS (Database Management System) relazionali come Oracle e PostgreSQL, i dati non vengono memorizzati in tabelle (o se volete, relazioni), ma in &#8220;documenti&#8221;.</p>
<p>Su un database relazionale le tabelle hanno una struttura rigida, sono composte da campi definiti prima della effettiva memorizzazione dei dati. Le tabelle vanno dichiarate con gli opportuni statement DDL, prima di essere utilizzate. Ogni tabella e&#8217; composta da tuple (ovvero le righe della tabella o i record) che contengono i dati. La gestione dei dati si effettua con statement DML. I comandi DDL e DML della stragrande maggioranza dei DB relazionali sono in SQL. Ora dimentichiamoci tutto questo&#8230;</p>
<p>In CouchDB il concetto di relazione o di tabella non esiste, l&#8217;elemento fondamentale e&#8217; il documento che contiene al suo interno tutti i dati relativi, organizzati in modo eterogeneo. Si possono aggiungere e modificare i campi anche dopo l&#8217;effettivo inserimento dei dati. In questo modo record appartenenti alla stessa categoria di informazioni possono avere campi diversi tra di loro. La chiave primaria dei database relazionali viene tradotta nel campo univoco <i>_id</i> di CouchDB, creato automaticamente dall&#8217;engine del DBMS (ma che e&#8217; anche possibile indicare in modo esplicito.</p>
<p>Dal punto di vista del sistema operativo CouchDB si presenta come un unico processo beam.smp in ascolto sulla porta TCP 5984 (6984 se e&#8217; abilitato l&#8217;HTTPS). In realta&#8217; all&#8217;interno del processo operano diversi thread con compiti specifici.<br />
I file utilizzati da CouchDB su Linux si trovano in /etc/couchdb, i file di database su /var/lib/couchdb, i log su /var/log/couchdb.</p>
<h3><strong>Consistenza dei dati e replicazione</strong></h3>
<p>CouchDB non utilizza alcun meccanismo di locking ma sfrutta l&#8217;MVCC (Multiversion Concurrency Control), ogni modifica di un oggetto ne crea una nuova versione. Le versioni precedenti non vengono cancellate. Se due modifiche vanno in conflitto poiche&#8217; accedono allo stesso documento, la seconda riceve un errore in save. L&#8217;applicazione deve riprendere l&#8217;ultima versione del documento e rieseguire l&#8217;UPDATE.<br />
L&#8217;isolamento e&#8217; mantenuto solo a livello di un singolo documento, questa e&#8217; una notevole semplificazione, rispetto alla complessa logica transazionale di altri database, ma consente l&#8217;ottimizzazione, la parallelizzazione e la distribuzione dei dati in modo semplice. A livello di accesso al file di dati ogni singola modifica ad un documento rispetta le proprieta ACID (Atomic Consistent Isolated Durable) con la serializzazione delle modifiche sui documenti e la scrittura sincrona sul disco.</p>
<p>Piu&#8217; database CouchDB possono essere collegati tra loro in modo molto semplice. I database vengono aggiornati tra loro con una replicazione peer-to-peer incrementale implementata nativamente nell&#8217;engine. CouchDB permette una replicazione bidirezionale asincrona, utilizza un meccanismo automatico di risoluzione dei conflitti e fornisce una <b>eventual consistency</b> tra i database. Se i database sono ospitati su nodi differenti si ottiene con questo la distribuzione dei dati.<br />
La replicazione di CouchDB puo&#8217; essere utilizzata sia per sincronizzare database locali che per complesse configurazioni con sharding dei dati.</p>
<p>&nbsp;</p>
]]></content:encoded>
					
					<wfw:commentRss>https://tuttiperlinux.blog/2014/07/26/introduzione-a-couchdb/feed/</wfw:commentRss>
			<slash:comments>2</slash:comments>
		
		
		
		<media:content url="https://2.gravatar.com/avatar/855ab7cb725a5b56c356471b79d1cef6?s=96&#38;d=&#38;r=G" medium="image">
			<media:title type="html">lordisil72lordisil72</media:title>
		</media:content>

		<media:content url="https://tuttiperlinux.files.wordpress.com/2014/07/couch.png" medium="image">
			<media:title type="html">couchDB</media:title>
		</media:content>
	</item>
	</channel>
</rss>
