<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	xmlns:georss="http://www.georss.org/georss" xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#" xmlns:media="http://search.yahoo.com/mrss/"
	>

<channel>
	<title>policy &#8211; Tutti per Linux</title>
	<atom:link href="https://tuttiperlinux.blog/tag/policy/feed/" rel="self" type="application/rss+xml" />
	<link>https://tuttiperlinux.blog</link>
	<description>Tutto cio&#039; che avresti sempre voluto capire su Linux ed il mondo Digitale</description>
	<lastBuildDate>Mon, 03 Nov 2014 12:35:46 +0000</lastBuildDate>
	<language>it-IT</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>http://wordpress.com/</generator>
<cloud domain='tuttiperlinux.blog' port='80' path='/?rsscloud=notify' registerProcedure='' protocol='http-post' />
<image>
		<url>https://secure.gravatar.com/blavatar/fa5c4cf69896031d9ec71ff8d5aafd25?s=96&#038;d=https%3A%2F%2Fs0.wp.com%2Fi%2Fbuttonw-com.png</url>
		<title>policy &#8211; Tutti per Linux</title>
		<link>https://tuttiperlinux.blog</link>
	</image>
	<atom:link rel="search" type="application/opensearchdescription+xml" href="https://tuttiperlinux.blog/osd.xml" title="Tutti per Linux" />
	<atom:link rel='hub' href='https://tuttiperlinux.blog/?pushpress=hub'/>
	<item>
		<title>Postgrey e le Greylist alleati per la lotta allo spam</title>
		<link>https://tuttiperlinux.blog/2014/11/03/postgrey-e-le-greylist-alleati-per-la-lotta-allo-spam/</link>
					<comments>https://tuttiperlinux.blog/2014/11/03/postgrey-e-le-greylist-alleati-per-la-lotta-allo-spam/#respond</comments>
		
		<dc:creator><![CDATA[Tutti per Linux]]></dc:creator>
		<pubDate>Mon, 03 Nov 2014 12:35:46 +0000</pubDate>
				<category><![CDATA[SysAdmin]]></category>
		<category><![CDATA[Tips & Tricks]]></category>
		<category><![CDATA[antispam]]></category>
		<category><![CDATA[debian]]></category>
		<category><![CDATA[exim]]></category>
		<category><![CDATA[greylist]]></category>
		<category><![CDATA[linux blog]]></category>
		<category><![CDATA[mail]]></category>
		<category><![CDATA[policy]]></category>
		<category><![CDATA[posta elettronica]]></category>
		<category><![CDATA[postfix]]></category>
		<category><![CDATA[postgrey]]></category>
		<category><![CDATA[smtp]]></category>
		<category><![CDATA[spam]]></category>
		<category><![CDATA[ubuntu]]></category>
		<category><![CDATA[whitelist]]></category>
		<guid isPermaLink="false">http://tuttiperlinux.com/?p=653</guid>

					<description><![CDATA[La posta indesiderata è un vero flagello per tutti, peggio ancora lo e&#8217; per le aziende. Adesso, però esiste una nuova arma. Nonostante la raffinatezza e l’efficacia raggiunte da numerosi sistemi antispam, sempre più spesso questi strumenti si rivelano insufficienti per risolvere il problema della posta indesiderata. I disagi provocati dall’attacco di uno &#8220;spammer&#8221; riguardano &#8230; <a href="https://tuttiperlinux.blog/2014/11/03/postgrey-e-le-greylist-alleati-per-la-lotta-allo-spam/">Continua a leggere <span class="meta-nav">&#8594;</span></a>]]></description>
										<content:encoded><![CDATA[<p><a href="https://tuttiperlinux.files.wordpress.com/2014/11/postgrey.jpg"><img loading="lazy" data-attachment-id="655" data-permalink="https://tuttiperlinux.blog/2014/11/03/postgrey-e-le-greylist-alleati-per-la-lotta-allo-spam/postgrey/#main" data-orig-file="https://tuttiperlinux.files.wordpress.com/2014/11/postgrey.jpg" data-orig-size="398,322" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="postgrey" data-image-description="&lt;p&gt;Antispam &amp;amp; Greylist con Postgrey&lt;/p&gt;
" data-image-caption="" data-medium-file="https://tuttiperlinux.files.wordpress.com/2014/11/postgrey.jpg?w=300" data-large-file="https://tuttiperlinux.files.wordpress.com/2014/11/postgrey.jpg?w=398" class="alignleft size-medium wp-image-655" src="https://tuttiperlinux.files.wordpress.com/2014/11/postgrey.jpg?w=300&#038;h=242" alt="postgrey" width="300" height="242" srcset="https://tuttiperlinux.files.wordpress.com/2014/11/postgrey.jpg?w=300&amp;h=242 300w, https://tuttiperlinux.files.wordpress.com/2014/11/postgrey.jpg?w=150&amp;h=121 150w, https://tuttiperlinux.files.wordpress.com/2014/11/postgrey.jpg 398w" sizes="(max-width: 300px) 100vw, 300px" /></a>La posta indesiderata è un vero flagello per tutti, peggio ancora lo e&#8217; per le aziende. Adesso, però esiste una nuova arma.</p>
<p>Nonostante la raffinatezza e l’efficacia raggiunte da numerosi sistemi antispam, sempre più spesso questi strumenti si rivelano insufficienti per risolvere il problema della posta indesiderata. I disagi provocati dall’attacco di uno &#8220;<strong>spammer</strong>&#8221; riguardano tutti, senza alcuna differenza di sorta, ma assumono proporzioni esagerate in ambito aziendale. Per provare a risolvere il problema ci viene incontro un nuovo strumento, le cosiddette <strong>Grey-List</strong>. Vediamo di cosa si tratta e come usarle per arginare il fenomeno spam.</p>
<p><strong>Il concetto delle Greylist</strong></p>
<p>Le <strong>greylist</strong> basano il loro funzionamento sul fatto che la maggior parte degli spammer provano l’invio di un messaggio una volta sola e, in caso di errore, non eseguono le richieste di rinvio del messaggio previste dal protocollo SMTP, in quanto, così facendo, le code di invio delle e-mail crescerebbero a dismisura. Sfruttando questo comportamento, quando un server dotato di greylist riceve un messaggio, per prima cosa controlla se in passato ha già ricevuto dall’indirizzo IP del server corrispondente e dal mittente indicato un’e-mail per il destinatario richiesto. Se il controllo riscontra uno dei valori appena indicati  il server interrompe il collegamento e genera un errore che causa la richiesta di ritrasmissione del messaggio, mentre in caso negativo l’e-mail viene inoltrata normalmente al destinatario. In caso di collegamento interrotto, i server &#8220;mittente&#8221; correttamente configurati, ritentano l’invio del messaggio (in genere dopo un’attesa di 10 minuti). Questo comporta un ritardo nella consegna del messaggio dell’ordine di qualche decina di minuti solo per il primo messaggio proveniente da un determinato mittente, esclusi quelli in arrivo da alcuni domini di uso abituale che sono già approvati all’interno delle greylist, mentre i messaggi successivi non subiranno alcun ritardo.</p>
<h3><span id="Postgrey" class="mw-headline"> Postgrey </span></h3>
<p>In questa piccola guida parleremo di postgrey, un&#8217; implementazione delle greylist per postfix (ma può essere usata con un qualsiasi altro server di posta).</p>
<p>Per installarlo è sufficiente eseguire il comando</p>
<pre># apt-get install postgrey
</pre>
<p>una volta terminata l&#8217;installazione, il demone postgrey sarà in ascolto sulla porta 60000.</p>
<h3><span id="Postfix" class="mw-headline"> Postfix </span></h3>
<p>Per integrare il servizio in Postfix è sufficiente modificare il file <code>/etc/postfix/main.cf</code>. All&#8217;interno del file è necessario cercare la direttiva <code><b>smtpd_recipient_restrictions</b></code> ed aggiungere, alla fine, la seguente stringa:</p>
<pre>check_policy_service inet:127.0.0.1:60000</pre>
<p><b>Nota:</b><br />
le varie voci relative a <strong><code>smtpd_recipient_restrictions</code></strong> dovranno essere separate da una virgola, e se <code><b>smtpd_recipient_restrictions</b></code> non dovesse esistere, sarà necessario aggiungerla nel seguente modo:</p>
<pre>smtpd_recipient_restrictions = check_policy_service inet:127.0.0.1:60000
</pre>
<p>Una volta terminato sara&#8217; sufficiente riavviare Postfix:</p>
<pre># /etc/init.d/postfix restart
</pre>
<p>e controllare nel file di log <code>/var/log/mail.log</code> le email in arrivo. Si vedrà che alcune verranno rifiutate con un messaggio di <i>postgrey</i>.</p>
<h3><span id="Configurazione" class="mw-headline"> Postgrey configurazione </span></h3>
<p>La configurazione di <i>postgrey</i> è modificabile tramite tre file:</p>
<p><span class="mw-headline"> 1) </span><strong><span id=".2Fetc.2Fdefaults.2Fpostgrey" class="mw-headline"><code>/etc/defaults/postgrey </code></span></strong># che permette la modifica delle opzioni di avvio del demone:</p>
<dl>
<dt><code>--inet</code> </dt>
<dd>permette di specificare l&#8217;indirizzo e la porta su cui sarà in ascolto il demone;</dd>
<dt><code>--delay</code> </dt>
<dd>l&#8217;intervallo, in secondi, di durata del rigetto;</dd>
<dt><code>--max-age</code> </dt>
<dd>dopo quanto tempo rimuovere gli indirizzi che sono stati visti (memoria storica del programma).</dd>
</dl>
<p>Le opzioni vanno inserite nella variabile <code><b>POSTGREY_OPTS</b></code>, separate da uno spazio.</p>
<p><span id="whitelist_clients" class="mw-headline">2)</span><strong><span id="whitelist_clients" class="mw-headline"> <code>whitelist_clients</code> </span></strong></p>
<p>Contiene una lista dei domini da cui greylist non bloccherà la posta.</p>
<p><span id="whitelist_recipients" class="mw-headline">3)</span><strong><span id="whitelist_recipients" class="mw-headline"> <code>whitelist_recipients</code> </span></strong><span id="whitelist_recipients" class="mw-headline"></span></p>
<p>Contiene una lista di destinatari verso cui non bloccare la posta (ad esempio il postmaster oppure abuse). Normalmente non richiede modifiche.</p>
<h3><span id="Conclusione" class="mw-headline"> Conclusione </span></h3>
<p>Sebbene questo sistema sia veramente molto semplice, è in grado di bloccare una buona quantità di spam.</p>
<p>Inoltre, cosa da tenere molto in considerazione, questo è un metodo che difficilmente genera dei falsi positivi (in quanto la risposta del server mail corrisponde ad un &#8220;ripassa più tardi&#8221;) e non aumenta di molto il carico del sistema.</p>
<p>&nbsp;</p>
]]></content:encoded>
					
					<wfw:commentRss>https://tuttiperlinux.blog/2014/11/03/postgrey-e-le-greylist-alleati-per-la-lotta-allo-spam/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		
		<media:content url="https://2.gravatar.com/avatar/855ab7cb725a5b56c356471b79d1cef6?s=96&#38;d=&#38;r=G" medium="image">
			<media:title type="html">lordisil72lordisil72</media:title>
		</media:content>

		<media:content url="https://tuttiperlinux.files.wordpress.com/2014/11/postgrey.jpg?w=300" medium="image">
			<media:title type="html">postgrey</media:title>
		</media:content>
	</item>
		<item>
		<title>Firehol il firewall flessibile</title>
		<link>https://tuttiperlinux.blog/2014/09/26/firehol-il-firewall-flessibile/</link>
					<comments>https://tuttiperlinux.blog/2014/09/26/firehol-il-firewall-flessibile/#respond</comments>
		
		<dc:creator><![CDATA[Tutti per Linux]]></dc:creator>
		<pubDate>Fri, 26 Sep 2014 11:55:11 +0000</pubDate>
				<category><![CDATA[Sicurezza]]></category>
		<category><![CDATA[client]]></category>
		<category><![CDATA[firehol]]></category>
		<category><![CDATA[firewall]]></category>
		<category><![CDATA[http]]></category>
		<category><![CDATA[interface]]></category>
		<category><![CDATA[iptables]]></category>
		<category><![CDATA[linux blog]]></category>
		<category><![CDATA[policy]]></category>
		<category><![CDATA[rules]]></category>
		<category><![CDATA[server]]></category>
		<category><![CDATA[sicurezza]]></category>
		<category><![CDATA[tpc ip]]></category>
		<category><![CDATA[ubuntu]]></category>
		<guid isPermaLink="false">http://tuttiperlinux.com/?p=606</guid>

					<description><![CDATA[Si parla spesso di come proteggere il proprio PC/Server e la parola che sicuramente ricorre piu&#8217; spesso e&#8217; FIREWALL, non c&#8217;e&#8217; dubbio. Il problema che salta all&#8217;occhio di chiunque si sia mai cimentato con la &#8220;scrittura&#8221; delle regole di IPtables e derivati, e&#8217; la non immediata semplicita&#8217; nel comprendere la giusta sintassi da utilizzare e &#8230; <a href="https://tuttiperlinux.blog/2014/09/26/firehol-il-firewall-flessibile/">Continua a leggere <span class="meta-nav">&#8594;</span></a>]]></description>
										<content:encoded><![CDATA[<p class="line862"><a href="https://tuttiperlinux.files.wordpress.com/2014/09/firehol.jpg"><img loading="lazy" data-attachment-id="607" data-permalink="https://tuttiperlinux.blog/2014/09/26/firehol-il-firewall-flessibile/firehol/#main" data-orig-file="https://tuttiperlinux.files.wordpress.com/2014/09/firehol.jpg" data-orig-size="624,333" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="firehol" data-image-description="&lt;p&gt;FireHol il Firewall flessibile&lt;/p&gt;
" data-image-caption="" data-medium-file="https://tuttiperlinux.files.wordpress.com/2014/09/firehol.jpg?w=300" data-large-file="https://tuttiperlinux.files.wordpress.com/2014/09/firehol.jpg?w=600" class="alignleft size-medium wp-image-607" src="https://tuttiperlinux.files.wordpress.com/2014/09/firehol.jpg?w=300&#038;h=160" alt="firehol" width="300" height="160" srcset="https://tuttiperlinux.files.wordpress.com/2014/09/firehol.jpg?w=300&amp;h=160 300w, https://tuttiperlinux.files.wordpress.com/2014/09/firehol.jpg?w=600&amp;h=320 600w, https://tuttiperlinux.files.wordpress.com/2014/09/firehol.jpg?w=150&amp;h=80 150w" sizes="(max-width: 300px) 100vw, 300px" /></a>Si parla spesso di come proteggere il proprio PC/Server e la parola che sicuramente ricorre piu&#8217; spesso e&#8217; <strong>FIREWALL</strong>, non c&#8217;e&#8217; dubbio.</p>
<p class="line862">Il problema che salta all&#8217;occhio di chiunque si sia mai cimentato con la &#8220;scrittura&#8221; delle regole di IPtables e derivati, e&#8217; la non immediata semplicita&#8217; nel comprendere la giusta sintassi da utilizzare e dunque nel capire il corretto posizionamento delle tante/tantissime variabili che rendono questi strumenti ottimi nel tenere lontani la maggior parte dei malintenzionati .</p>
<p class="line862">Uno strumento che potra&#8217; certamente darvi una mano e&#8217; il tool <a href="http://firehol.org">FireHol</a>.</p>
<p class="line862"><strong>FireHOL</strong> è un linguaggio per esprimere le regole del firewall, non semplicemente uno script che produce un qualche tipo di firewall.&#8221; I file di configurazione di FireHOL sono script shell (ma di fatto non lo sembrano poiche&#8217; sono semplici che più semplici non si può).</p>
<p class="line862">FireHOL viene fornito con firehol-wizard, che crea un file di configurazione che è poi <em>necessario</em> modificare a mano.<span id="line-162" class="anchor"></span><span id="line-163" class="anchor"></span></p>
<p class="line862"><em>Il suggerimento migliore che posso dare rimane quello di utilizzare sempre, soprattutto all&#8217;inizio, le macchine virtuali, per  riuscire a prendere dimestichezza con la nuova tecnologia.</em></p>
<p class="line862">Si tratta dunque di un particolare software che, tramite un “semplice” file di configurazione, permette di impostare velocemente le regole del firewall per proteggere l’accesso dalla LAN verso Internet e viceversa. Il file in questione si trova in /etc/firehol/firehol.conf, quindi apriamolo con sudo vim /etc/ firehol/firehol.conf, cancelliamone il contenuto pre esistente e scriviamo quanto segue:</p>
<p class="line862">Anche l&#8217;installazione e&#8217; semplice come bere un bicchier d&#8217;acqua</p>
<pre>sudo apt-get install firehol</pre>
<p>Questo e&#8217; un piccolo esempio utile per dare un&#8217;idea della metodologia di configurazione del file:</p>
<pre>#Imposto la LAN eth0 scheda di rete verso internet

interface eth0 internet

# Di default non accettare nessun pacchetto

policy reject

protection strong

#Accetta solamente questi servizi

server ssh accept

server ping accept

server http accept

server https accept

server dns accept

client ping accept

client http accept

client https accept

#Imposto eth1 come rete interna lan

interface eth1 lan

#Accetta tutto il traffico nella LAN interna

policy accept

#Imposto le tabelle di routing

#Il traffico dalla LAN (eth1) reindirizzato verso eth0

router lan2internet inface eth1 outface eth0

# Regola per il masquerade

masquerade

#Accetta tutto il traffico

router all accept

#In ingresso, invece, fai il contrario...

router internet2lan inface eth0 outface eth1</pre>
<p class="line862">** Le righe precedute dal simbolo # sono commenti che possono essere omessi, ma che possono essere sempre di grande aiuto nel rileggere vecchie configurazioni. Dopo aver inserito tutte le regole, salviamo e usciamo dall’editor.</p>
<p class="line862">A questo punto, bastera&#8217; impostare il firewall in modo che si attivi automaticamente all’avvio del server. Apriamo dunque il file firehol con sudo vim /etc/default/firehol e cambiamo la riga <strong>START_FIREHOL=NO</strong> in <strong>START_FIREHOL=YES</strong>.</p>
<p class="line862">Infine, avviamo il firewall con il comando sudo /etc/init.d/firehol start. Il nostro lavoro è quasi finito, ma mancano ancora alcuni passi.</p>
<p class="line862">Buone configurazioni!</p>
]]></content:encoded>
					
					<wfw:commentRss>https://tuttiperlinux.blog/2014/09/26/firehol-il-firewall-flessibile/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		
		<media:content url="https://2.gravatar.com/avatar/855ab7cb725a5b56c356471b79d1cef6?s=96&#38;d=&#38;r=G" medium="image">
			<media:title type="html">lordisil72lordisil72</media:title>
		</media:content>

		<media:content url="https://tuttiperlinux.files.wordpress.com/2014/09/firehol.jpg?w=300" medium="image">
			<media:title type="html">firehol</media:title>
		</media:content>
	</item>
	</channel>
</rss>
