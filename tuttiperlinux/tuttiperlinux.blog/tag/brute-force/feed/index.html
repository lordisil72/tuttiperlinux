<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	xmlns:georss="http://www.georss.org/georss" xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#" xmlns:media="http://search.yahoo.com/mrss/"
	>

<channel>
	<title>brute force &#8211; Tutti per Linux</title>
	<atom:link href="https://tuttiperlinux.blog/tag/brute-force/feed/" rel="self" type="application/rss+xml" />
	<link>https://tuttiperlinux.blog</link>
	<description>Tutto cio&#039; che avresti sempre voluto capire su Linux ed il mondo Digitale</description>
	<lastBuildDate>Mon, 30 Jan 2017 13:51:36 +0000</lastBuildDate>
	<language>it-IT</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>http://wordpress.com/</generator>
<cloud domain='tuttiperlinux.blog' port='80' path='/?rsscloud=notify' registerProcedure='' protocol='http-post' />
<image>
		<url>https://secure.gravatar.com/blavatar/fa5c4cf69896031d9ec71ff8d5aafd25?s=96&#038;d=https%3A%2F%2Fs0.wp.com%2Fi%2Fbuttonw-com.png</url>
		<title>brute force &#8211; Tutti per Linux</title>
		<link>https://tuttiperlinux.blog</link>
	</image>
	<atom:link rel="search" type="application/opensearchdescription+xml" href="https://tuttiperlinux.blog/osd.xml" title="Tutti per Linux" />
	<atom:link rel='hub' href='https://tuttiperlinux.blog/?pushpress=hub'/>
	<item>
		<title>Difenditi con ARTILLERY</title>
		<link>https://tuttiperlinux.blog/2017/01/30/1296/</link>
					<comments>https://tuttiperlinux.blog/2017/01/30/1296/#respond</comments>
		
		<dc:creator><![CDATA[Tutti per Linux]]></dc:creator>
		<pubDate>Mon, 30 Jan 2017 13:51:11 +0000</pubDate>
				<category><![CDATA[Networking]]></category>
		<category><![CDATA[Sicurezza]]></category>
		<category><![CDATA[SysAdmin]]></category>
		<category><![CDATA[alerting]]></category>
		<category><![CDATA[artillery]]></category>
		<category><![CDATA[brute force]]></category>
		<category><![CDATA[firewall]]></category>
		<category><![CDATA[git]]></category>
		<category><![CDATA[github]]></category>
		<category><![CDATA[honeypot]]></category>
		<category><![CDATA[iptables]]></category>
		<category><![CDATA[monitoring]]></category>
		<category><![CDATA[python]]></category>
		<category><![CDATA[security]]></category>
		<category><![CDATA[social engineering toolkit]]></category>
		<guid isPermaLink="false">http://tuttiperlinux.com/?p=1296</guid>

					<description><![CDATA[In questo articolo parleremo di un tool che si pone come interessante aiuto verso la sicurezza delle nostre macchine in rete, il suo nome e&#8217; Artillery , esso è un interessante software scritto interamente in python. La cosa molto interessante di questo tool e&#8217; che lo possiamo intendere come una combinazione tra un honeypot, un tool &#8230; <a href="https://tuttiperlinux.blog/2017/01/30/1296/">Continua a leggere <span class="meta-nav">&#8594;</span></a>]]></description>
										<content:encoded><![CDATA[<div data-shortcode="caption" id="attachment_1297" style="width: 257px" class="wp-caption alignnone"><img loading="lazy" aria-describedby="caption-attachment-1297" data-attachment-id="1297" data-permalink="https://tuttiperlinux.blog/2017/01/30/1296/project-artillery/#main" data-orig-file="https://tuttiperlinux.files.wordpress.com/2017/01/project-artillery.png" data-orig-size="284,345" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="project-artillery" data-image-description="&lt;p&gt;Artillery Honeypot All-in-one&lt;/p&gt;
" data-image-caption="&lt;p&gt;Artillery Honeypot All-in-one&lt;/p&gt;
" data-medium-file="https://tuttiperlinux.files.wordpress.com/2017/01/project-artillery.png?w=247" data-large-file="https://tuttiperlinux.files.wordpress.com/2017/01/project-artillery.png?w=284" class="size-medium wp-image-1297" src="https://tuttiperlinux.files.wordpress.com/2017/01/project-artillery.png?w=247&#038;h=300" alt="Artillery Honeypot All-in-one" width="247" height="300" srcset="https://tuttiperlinux.files.wordpress.com/2017/01/project-artillery.png?w=247&amp;h=300 247w, https://tuttiperlinux.files.wordpress.com/2017/01/project-artillery.png?w=123&amp;h=150 123w, https://tuttiperlinux.files.wordpress.com/2017/01/project-artillery.png 284w" sizes="(max-width: 247px) 100vw, 247px" /><p id="caption-attachment-1297" class="wp-caption-text">Artillery Honeypot All-in-one</p></div>
<p>In questo articolo parleremo di un tool che si pone come interessante aiuto verso la sicurezza delle nostre macchine in rete, il suo nome e&#8217; <strong>Artillery </strong>, esso è un interessante software scritto interamente in python. La cosa molto interessante di questo tool e&#8217; che lo possiamo intendere come una combinazione tra un honeypot, un tool di monitoraggio, ed un sistema di alerting. Uahoooo, tutto in un&#8217;unico strumento&#8230;&#8230;.</p>
<p>I principi di funzionamento si caratterizzano dal fatto che in presenza di determinate attività di networking esso si comporta parzialmente come un honeypot, adottando anche manovre evasive e, contemporaneamente monitorizza il cambiamento di file sensibili; in entrambi i casi avvisando di quanto riscontrato i destinatari designati.<br />
Artillery si pone in ascolto su di un certo numero di porte di uso comune (peraltro configurabile, tramite la variabile PORTS), e qualora riceva una richiesta di connessione per uno qualsiasi dei servizi fasulli, blocca in modo permanente l’indirizzo IP sorgente aggiungendo una relativa regola con target DROP a iptables.</p>
<p><strong>Artillery può essere anche usato per prevenire attacchi di tipo brute force<br />
</strong><br />
L’ installazione ed il lancio di Artillery sono molto semplici: una volta effettuato il download via <strong>git</strong>, occorre lanciare uno script installer, editare un file di configurazione (&#8220;all&#8217;inizio questo passaggio sara&#8217; meglio farlo su macchina virtuale per fare pratica della configurazione delle regole&#8221;) e poi mandarlo in esecuzione:</p>
<p># cd /opt<br />
# <code>apt-get update &amp;&amp; apt-get install git [solo se ancora non avete installato il pacchetto git]<br />
# git clone https://github.com/trustedsec/artillery/ artillery/<br />
# cd artillery<br />
</code># sudo ./setup.py</p>
<p>Welcome to the Artillery installer. Artillery is a honeypot, file monitoring, and overall security tool used to protect your nix systems.</p>
<p>Written by: Dave Kennedy (ReL1K)</p>
<p>Do you want to install Artillery and have it automatically run when you restart [y/n]: y<br />
[*] Beginning installation. This should only take a moment.<br />
[*] Adding artillery into startup through init scripts..<br />
[*] Triggering update-rc.d on artillery to automatic start&#8230;<br />
Do you want to keep Artillery updated? (requires internet) [y/n]: y<br />
[*] Checking out Artillery through github to /var/artillery<br />
Cloning into &#8216;/var/artillery&#8217;&#8230;<br />
remote: Counting objects: 876, done.<br />
remote: Total 876 (delta 0), reused 0 (delta 0), pack-reused 876<br />
Receiving objects: 100% (876/876), 207.83 KiB | 293.00 KiB/s, done.<br />
Resolving deltas: 100% (568/568), done.<br />
Checking connectivity&#8230; done.<br />
[*] Finished. If you want to update Artillery go to /var/artillery and type &#8216;git pull&#8217;<br />
Would you like to start Artillery now? [y/n]: y<br />
Starting Artillery&#8230; Ok<br />
[*] Installation complete. Edit /var/artillery/config in order to config artillery to your liking..</p>
<p>Durante il processo di installazione verranno poste, come potete leggere qui sopra, alcune domande:<br />
Do you want to install Artillery and have it automatically run when you restart [y/n]:<br />
Do you want to keep Artillery updated? (requires internet) [y/n]:<br />
Would you like to start Artillery now? [y/n]:</p>
<p>Artillery verrà installato come servizio sotto /etc/init.d/<br />
E’ sempre consigliabile leggere con attenzione prima d&#8217; impostare il file di configurazione.<br />
In ogni caso, una volta effettuate delle modifiche alla configurazione, si può impartire e renderle immediatamente operanti:<br />
# python restart_server.py</p>
<p>Fate attenzione a non commettere l’errore di editare invece i files risultanti dal download via git. Una volta che che lo script di installazione sia stato eseguito, per modificarne la configurazione posizionatevi piuttosto nella directory /var/artillery.</p>
<p>Il contenuto del file <strong>config</strong> è piuttosto chiarificatore delle funzionalità del software:<br />
# determina se attivare l&#8217;attività di monitoraggio dell&#8217;integrità di files sensibili<br />
MONITOR=YES<br />
#<br />
# le directories da monitorare, se ne possono ancora aggiungere &#8220;/root&#8221;,&#8221;/var/&#8221;, ecc.<br />
MONITOR_FOLDERS=&#8221;/var/www&#8221;,&#8221;/etc/&#8221;<br />
#<br />
# frequenza del controllo in secondi.<br />
MONITOR_FREQUENCY=60<br />
#<br />
# esclusione dal controllo per certe directories o files, ad esempio: /etc/passwd,/etc/hosts.allow<br />
EXCLUDE=<br />
#<br />
# determina se attivare l&#8217;attività di HONEYPOT<br />
HONEYPOT=YES<br />
#<br />
# ban automatico HONEYPOT<br />
HONEYPOT_BAN=YES<br />
#<br />
# WHITELIST di indirizzi IP non vincolati dalle regole di controllo<br />
WHITELIST_IP=127.0.0.1,localhost<br />
#<br />
# PORTS su cui attivare il monitoring<br />
PORTS=&#8221;135,445,22,1433,3389,8080,21,5900,25,53,110,1723,1337,10000,5800,44443&#8243;<br />
#<br />
# determina se attivare l&#8217;alerting via email<br />
EMAIL_ALERTS=OFF<br />
#<br />
# username SMTP<br />
USERNAME=&#8221;thisisjustatest@gmail.com&#8221;<br />
#<br />
# password SMTP<br />
PASSWORD=&#8221;pass&#8221;<br />
#<br />
# destinatario<br />
SMTP_TO=&#8221;testing@test.com&#8221;<br />
#<br />
# server per l&#8217;invio, per default gmail<br />
SMTP_ADDRESS=&#8221;smtp.gmail.com&#8221;<br />
#<br />
# Porta SMTP per l&#8217;invio. Di default è quella gmail con TTLS<br />
SMTP_PORT=&#8221;587&#8243;<br />
#<br />
# Indirizzo EMAIL su cui ricevere gli ALERTS<br />
ALERT_USER_EMAIL=&#8221;user@whatever.com&#8221;<br />
#<br />
# determina se l&#8217;invio delle email di alerting debba avvenire seguendo una certa frequenza. Se impostato a off, gli alerts<br />
# verranno inviati automaticamente in tempo reale (può significare un mucchio di spam)<br />
EMAIL_TIMER=ON<br />
#<br />
# la frequenza con la quale saranno inviati gli ALERTS per email (per default ogni 10 minuti)<br />
EMAIL_FREQUENCY=600<br />
#<br />
# Attivazione del monitoraggio dei tentativi BRUTE FORCE contro SSH<br />
SSH_BRUTE_MONITOR=ON<br />
#<br />
# Quanti tentativi prima del BAN<br />
SSH_BRUTE_ATTEMPTS=4<br />
#<br />
# Per effettuare degli aggiornamenti automatici<br />
AUTO_UPDATE=OFF<br />
#<br />
# ANTI DOS imposta la macchina a limitare le connessioni, e va impostato ad OFF nel caso non lo si intenda utilizzare<br />
ANTI_DOS=ON<br />
#<br />
# Le porte dotate di protezione ANTI-DOS<br />
ANTI_DOS_PORTS=80,443<br />
#<br />
# I parametri che limitano le connessioni come misura anti DOS<br />
ANTI_DOS_THROTTLE_CONNECTIONS=50<br />
ANTI_DOS_LIMIT_BURST=200<br />
#</p>
<p>Artillery ha un set di porte (comuni o comunemente attaccate) preimpostato sulle quali si pone in ascolto.<br />
A rivelarle basta un semplice:</p>
<p># netstat -antp |grep LISTEN<br />
tcp 0 0 0.0.0.0:21 0.0.0.0:* LISTEN 2428/python<br />
tcp 0 0 0.0.0.0:53 0.0.0.0:* LISTEN 827/dnsmasq<br />
tcp 0 0 0.0.0.0:22 0.0.0.0:* LISTEN 637/sshd<br />
tcp 0 0 127.0.0.1:631 0.0.0.0:* LISTEN 706/cupsd<br />
tcp 0 0 0.0.0.0:1433 0.0.0.0:* LISTEN 2428/python<br />
tcp 0 0 0.0.0.0:1337 0.0.0.0:* LISTEN 2428/python<br />
tcp 0 0 0.0.0.0:25 0.0.0.0:* LISTEN 2428/python<br />
tcp 0 0 0.0.0.0:90 0.0.0.0:* LISTEN 734/nginx -g daemon<br />
tcp 0 0 0.0.0.0:44443 0.0.0.0:* LISTEN 2428/python<br />
tcp 0 0 0.0.0.0:1723 0.0.0.0:* LISTEN 2428/python<br />
tcp 0 0 0.0.0.0:47323 0.0.0.0:* LISTEN 616/rpc.statd<br />
tcp 0 0 0.0.0.0:445 0.0.0.0:* LISTEN 2428/python<br />
tcp 0 0 0.0.0.0:3389 0.0.0.0:* LISTEN 2428/python<br />
tcp 0 0 0.0.0.0:135 0.0.0.0:* LISTEN 2428/python<br />
tcp 0 0 0.0.0.0:5800 0.0.0.0:* LISTEN 2428/python<br />
tcp 0 0 127.0.0.1:3306 0.0.0.0:* LISTEN 1089/mysqld<br />
tcp 0 0 0.0.0.0:5900 0.0.0.0:* LISTEN 2428/python<br />
tcp 0 0 0.0.0.0:110 0.0.0.0:* LISTEN 2428/python<br />
tcp 0 0 0.0.0.0:111 0.0.0.0:* LISTEN 606/rpcbind<br />
tcp 0 0 0.0.0.0:10000 0.0.0.0:* LISTEN 2428/python<br />
tcp 0 0 0.0.0.0:8080 0.0.0.0:* LISTEN 2428/python<br />
tcp6 0 0 :::53 :::* LISTEN 827/dnsmasq<br />
tcp6 0 0 :::22 :::* LISTEN 637/sshd<br />
tcp6 0 0 ::1:631 :::* LISTEN 706/cupsd<br />
tcp6 0 0 :::46327 :::* LISTEN 616/rpc.statd<br />
tcp6 0 0 :::90 :::* LISTEN 734/nginx -g daemon<br />
tcp6 0 0 :::111 :::* LISTEN 606/rpcbind<br />
tcp6 0 0 :::80 :::* LISTEN 1153/apache2<br />
&#8230;</p>
<p><strong>P.S.</strong>: L’esclusione dell’indirizzo IP che non riesca ad autenticarsi validamente viene effettuata attraverso il controllo del file /var/log/auth.log (per le distribuzioni basate su Debian).</p>
<p>Il tool e&#8217; potente ed altamente configurabile; non rimane che dare un&#8217;occhiata alla configurazione e fare qualche prova, magari all&#8217;inizio giocando con qualche servizio aperto su di una VM.</p>
<p>&nbsp;</p>
]]></content:encoded>
					
					<wfw:commentRss>https://tuttiperlinux.blog/2017/01/30/1296/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		
		<media:content url="https://2.gravatar.com/avatar/855ab7cb725a5b56c356471b79d1cef6?s=96&#38;d=&#38;r=G" medium="image">
			<media:title type="html">lordisil72lordisil72</media:title>
		</media:content>

		<media:content url="https://tuttiperlinux.files.wordpress.com/2017/01/project-artillery.png?w=247" medium="image">
			<media:title type="html">Artillery Honeypot All-in-one</media:title>
		</media:content>
	</item>
		<item>
		<title>Proteggiti dagli attacchi brute force con APF BFD e DDOS Deflate</title>
		<link>https://tuttiperlinux.blog/2015/04/10/proteggiti-dagli-attacchi-brute-force-con-apf-bfd-e-ddos-deflate/</link>
					<comments>https://tuttiperlinux.blog/2015/04/10/proteggiti-dagli-attacchi-brute-force-con-apf-bfd-e-ddos-deflate/#respond</comments>
		
		<dc:creator><![CDATA[Tutti per Linux]]></dc:creator>
		<pubDate>Fri, 10 Apr 2015 00:29:16 +0000</pubDate>
				<category><![CDATA[Sicurezza]]></category>
		<category><![CDATA[SysAdmin]]></category>
		<category><![CDATA[alert]]></category>
		<category><![CDATA[apf]]></category>
		<category><![CDATA[bfd]]></category>
		<category><![CDATA[brute force]]></category>
		<category><![CDATA[ddos]]></category>
		<category><![CDATA[firewall]]></category>
		<category><![CDATA[iptables]]></category>
		<category><![CDATA[linux blog in italiano]]></category>
		<guid isPermaLink="false">http://tuttiperlinux.com/?p=1090</guid>

					<description><![CDATA[Usare password lunghe e complesse spesso non è sufficiente a proteggere il proprio server da eventuali intrusioni, proprio per questo oggi spieghiamo come proteggerli da attacchi di tipo brute force utilizzando due semplici software che sfruttano il firewall iptables. Questi due software vengono distribuiti gratuitamente dal sito http://www.rfxn.com/ . Vediamo quindi nel dettaglio cosa fanno &#8230; <a href="https://tuttiperlinux.blog/2015/04/10/proteggiti-dagli-attacchi-brute-force-con-apf-bfd-e-ddos-deflate/">Continua a leggere <span class="meta-nav">&#8594;</span></a>]]></description>
										<content:encoded><![CDATA[<div data-shortcode="caption" id="attachment_1091" style="width: 310px" class="wp-caption alignleft"><a href="https://tuttiperlinux.files.wordpress.com/2015/04/apf-bfd_firewall.jpg"><img aria-describedby="caption-attachment-1091" data-attachment-id="1091" data-permalink="https://tuttiperlinux.blog/2015/04/10/proteggiti-dagli-attacchi-brute-force-con-apf-bfd-e-ddos-deflate/apf-bfd_firewall/#main" data-orig-file="https://tuttiperlinux.files.wordpress.com/2015/04/apf-bfd_firewall.jpg" data-orig-size="300,225" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="apf-bfd_firewall" data-image-description="&lt;p&gt;APF &amp;amp; BFD difenditi dai Brute Force&lt;/p&gt;
" data-image-caption="&lt;p&gt;APF &amp;amp; BFD difenditi dai Brute Force&lt;/p&gt;
" data-medium-file="https://tuttiperlinux.files.wordpress.com/2015/04/apf-bfd_firewall.jpg?w=300" data-large-file="https://tuttiperlinux.files.wordpress.com/2015/04/apf-bfd_firewall.jpg?w=300" class="size-full wp-image-1091" src="https://tuttiperlinux.files.wordpress.com/2015/04/apf-bfd_firewall.jpg?w=600" alt="APF &amp; BFD difenditi dai Brute Force" srcset="https://tuttiperlinux.files.wordpress.com/2015/04/apf-bfd_firewall.jpg 300w, https://tuttiperlinux.files.wordpress.com/2015/04/apf-bfd_firewall.jpg?w=150 150w" sizes="(max-width: 300px) 100vw, 300px"   /></a><p id="caption-attachment-1091" class="wp-caption-text">APF &amp; BFD difenditi dai Brute Force</p></div>
<p>Usare password lunghe e complesse spesso non è sufficiente a proteggere il proprio server da eventuali intrusioni, proprio per questo oggi spieghiamo come proteggerli da attacchi di tipo <a href="https://it.wikipedia.org/wiki/Metodo_forza_bruta"><strong>brute force</strong></a> utilizzando due semplici software che sfruttano il firewall iptables.</p>
<p>Questi due software vengono distribuiti gratuitamente dal sito <a href="http://www.rfxn.com/" rel="nofollow">http://www.rfxn.com/</a> . Vediamo quindi nel dettaglio cosa fanno e come configurarli.</p>
<p><strong><br />
APF</strong></p>
<p>Partiamo da <strong>APF</strong> (advanced policy firewall), questo software è una sorta di configuratore per iptables, che ci permette di configurare in modo semplice e rapido le regole base di iptables come ad esempio le porte da aprire in base ai servizi che utilizziamo, il tutto a partire da un semplice file di configurazione molto dettagliato e con ogni opzione ben commentata.</p>
<p><strong>INSTALLAZIONE</strong><br />
Per installarlo basta scaricare il pacchetto <a href="http://www.rfxn.com/downloads/apf-current.tar.gz e" rel="nofollow">http://www.rfxn.com/downloads/apf-current.tar.gz e</a> decomprimerlo (per versioni ubuntu/debian possiamo usare <strong>sudo apt-get install apf-firewall</strong>).</p>
<pre>wget http://www.rfxn.com/downloads/apf-current.tar.gz

tar zxf apf-current.tar.gz

ora entriamo nella directory appena estratta e installare APF

cd apf-9.7-2/

./install.sh

Installing APF 9.7-2: Completed.

Installation Details:
Install path: /etc/apf/
Config path: /etc/apf&lt;firewall&gt;/conf.apf
Executable path: /usr/local/sbin/apf

Other Details:
Listening TCP ports: 21,22,80,631,3306,5900,15749,17500
Listening UDP ports: 5353,15749,17500,38366
Note: These ports are not auto-configured; they are simply presented for information purposes. You must manually configure all port options.
ora andiamo a modificare il file di configurazione /etc/apf&lt;firewall&gt;/conf.apf

DEVEL_MODE="1"
questo parametro indica se apf è in modalità sviluppo (e quindi non applica le regole) o in modalità produzione e quindi rende effettive le regole del firewall, prima di impostarlo a 0 per renderlo attivo modifichiamo il resto delle regole altrimenti rischiamo di chiuderci fuori dal server

Impostiamo le porte in ascolto modificando il paramentro IG_TCP_CPORTS

# Common inbound (ingress) TCP ports
IG_TCP_CPORTS="22,21,20,80,25,53,110,143,443,2222,587,953,993,995,4949"
esempio d'impostazioni che sono valide per i servizi ssh,ftp,web,mail (pop/imap/smtp),directadmin e munin

questi invece gli esempi per le impostazioni per le porte in uscita

# Common outbound (egress) TCP ports
EG_TCP_CPORTS="21,25,80,443,43"
e poi più sotto impostiamo a “1″ le seguenti variabili che ci permettono di scaricare delle liste di ip conosciuti come malevoli in modo da filtrare a priori il loro traffico

DLIST_PHP="1"
DLIST_SPAMHAUS="1"
DLIST_DSHIELD="1"
DLIST_RESERVED="1"

ora salviamo ed avviamo apf tramite il comando

apf -s</pre>
<p><strong>BFD</strong><br />
Ora passiamo a<strong> BFD</strong> (brute force detection) il quale è un software che, analizzando i log, rileva i tentativi<br />
d&#8217;intrusione ai servr con metodologia Brute Force, ciò significa che se qualcuno tenta di accedere alla nostra macchina per bucarla, nei log di sistema, BFD troverà traccia dei vari tentativi, e se questi superano una soglia, che possiamo impostare, banna gli ip responsabili tramite APF.<br />
Procediamo con il download (<a href="http://www.rfxn.com/downloads/bfd-current.tar.gz" rel="nofollow">http://www.rfxn.com/downloads/bfd-current.tar.gz</a>) e l’installazione</p>
<pre>wget http://www.rfxn.com/downloads/bfd-current.tar.gz
tar zxf bfd-current.tar.gz
cd bfd-1.5/2/
./install.sh</pre>
<p>A differenza di apf, bfd viene installato in /usr/local/bfd, procediamo ora alla modifica del fine di configurazione /usr/local/bfd/conf.bfd</p>
<pre># how many failure events must an address have before being blocked?
# you can override this on a per rule basis in /usr/local/bfd/rules/
TRIG="15"

# send email alerts for all events [0 = off; 1 = on]
EMAIL_ALERTS="1"

# local user or email address alerts are sent to (separate multiple with comma)
EMAIL_ADDRESS="&lt;your@email.com&gt;"

# subject of email alerts
EMAIL_SUBJECT="Brute Force Warning for $HOSTNAME"</pre>
<p>la prima variabile indica il numero di eventi che devono esser trovati nei file di log per scatenare il ban, questa impostazione può essere modificata successivamente servizio per servizio mentre EMAIL_ALERTS,EMAIL_ADDRESS e EMAIL_SUBJECT servono per ricevere una copia via email dei vari attacchi rilevati e delle azioni intraprese da bfd per bloccare eventuali nuovi attacchi dall’host.</p>
<pre># syslog auth log path
AUTH_LOG_PATH="/var/log/auth.log"</pre>
<p>verificate anche che questo file punti correttamente al vostro auth log (di default nell’installazione bfd punta a /var/log/secure)</p>
<p>e come ultima cosa modificate il file /etc/cron.d/bfd e rimuovete le seguenti righe altrimenti il cron non funzionerà</p>
<p>MAILTO=<br />
SHELL=/bin/bash</p>
<p>a questo punto anche bfd è installato e funzionante;</p>
<p>Per avviare BFD usiamo il seguente comando :</p>
<p># sudo /usr /local /sbin /BFD &#8211; s</p>
<p><strong>DDOS Deflate</strong></p>
<p>E&#8217; un piccolissimo script in bash che serve a prevenire attacchi di tipo DoS o DDOS. Principalmente si basa sempre sul blocco degli indirizzi ip come mod_evasive, se quest’ultimi inviano &#8220;X&#8221; richieste al server in modo continuativo. In tal caso lo script attiva il firewall del server.</p>
<p>Vediamo come installarlo</p>
<p>Installare DDOS Deflate<br />
dalla vostra shell di Linux, lanciate questo comando:</p>
<pre>wget http://www.inetbase.com/scripts/ddos/install.sh</pre>
<p>Successivamente andranno impostati i permessi al file ed eseguire l’installazione<br />
chmod 0700 install.sh</p>
<p>./install.sh</p>
<p>Leggerete la lincenza dello script, quindi premete<br />
q</p>
<p>Potrete leggere a video che è stato creato un file di configurazione ddos.conf nella directori /usr/local/ddos/<br />
Possiamo notare come lavora in cron lo script, lanciando il comando<br />
ls -l /etc/cron.d</p>
<p>&nbsp;</p>
<p>#DifenditidagliattacchiBruteForce</p>
]]></content:encoded>
					
					<wfw:commentRss>https://tuttiperlinux.blog/2015/04/10/proteggiti-dagli-attacchi-brute-force-con-apf-bfd-e-ddos-deflate/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		
		<media:content url="https://2.gravatar.com/avatar/855ab7cb725a5b56c356471b79d1cef6?s=96&#38;d=&#38;r=G" medium="image">
			<media:title type="html">lordisil72lordisil72</media:title>
		</media:content>

		<media:content url="https://tuttiperlinux.files.wordpress.com/2015/04/apf-bfd_firewall.jpg" medium="image">
			<media:title type="html">APF &#038; BFD difenditi dai Brute Force</media:title>
		</media:content>
	</item>
	</channel>
</rss>
